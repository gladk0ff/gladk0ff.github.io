import{l as m,j as s}from"./react-CztsJXDN.js";import{u}from"./@react-router-DIG7VfU4.js";import{F as r,I as t,M as i,B as l,_ as n,a6 as p}from"./ant-CnXQRBww.js";import{a as c}from"./auth-3UPzJb1J.js";import"./vendor-BcP1JBxk.js";const j=()=>{const d=u(),a=m({mutationFn:e=>c.updatePassword(e),onSuccess:()=>{n.info("Пароль успешно обновлен"),d(p.SIGN_IN)},onError:e=>{n.error(e.message||"Произошла ошибка при обновлении пароля. Попробуйте позже или обратитесь к администратору")}});return s.jsxs(r,{name:"sign-in",layout:"vertical",style:{width:"100%"},onFinish:({password:e})=>a.mutate(e),children:[s.jsx(r.Item,{name:"password",label:"Новый пароль",rules:[{required:!0,message:t.REQUIRED}],children:s.jsx(i.Password,{size:"large",type:"password"})}),s.jsx(r.Item,{name:"passwordRepeat",dependencies:["password"],label:"Повторите пароль",rules:[{required:!0,message:t.REQUIRED},({getFieldValue:e})=>({validator(w,o){return!o||e("password")===o?Promise.resolve():Promise.reject(new Error(t.PASSWORD_DUPLICATE))}})],children:s.jsx(i.Password,{size:"large",type:"password"})}),s.jsx(r.Item,{style:{textAlign:"center"},children:s.jsx(l,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:a.isPending,children:"Обновить пароль"})})]})};export{j as UpdatePassword};
