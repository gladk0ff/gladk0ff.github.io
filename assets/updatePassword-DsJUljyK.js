import{aU as m,aR as s}from"./vendor-BN-OmPOv.js";import{u}from"./@react-router-WBedDhhJ.js";import{F as r,I as a,M as i,B as l,_ as n,a6 as p}from"./ant-Jaa1hGdd.js";import{a as c}from"./auth-DjyqYUQa.js";const h=()=>{const d=u(),t=m({mutationFn:e=>c.updatePassword(e),onSuccess:()=>{n.info("Пароль успешно обновлен"),d(p.SIGN_IN)},onError:e=>{n.error(e.message||"Произошла ошибка при обновлении пароля. Попробуйте позже или обратитесь к администратору")}});return s.jsxs(r,{name:"sign-in",layout:"vertical",style:{width:"100%"},onFinish:({password:e})=>t.mutate(e),children:[s.jsx(r.Item,{name:"password",label:"Новый пароль",rules:[{required:!0,message:a.REQUIRED}],children:s.jsx(i.Password,{size:"large",type:"password"})}),s.jsx(r.Item,{name:"passwordRepeat",dependencies:["password"],label:"Повторите пароль",rules:[{required:!0,message:a.REQUIRED},({getFieldValue:e})=>({validator(w,o){return!o||e("password")===o?Promise.resolve():Promise.reject(new Error(a.PASSWORD_DUPLICATE))}})],children:s.jsx(i.Password,{size:"large",type:"password"})}),s.jsx(r.Item,{style:{textAlign:"center"},children:s.jsx(l,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:t.isPending,children:"Обновить пароль"})})]})};export{h as UpdatePassword};
