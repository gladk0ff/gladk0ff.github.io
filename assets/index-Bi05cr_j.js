var Re=Object.defineProperty;var Se=(t,s,n)=>s in t?Re(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n;var H=(t,s,n)=>Se(t,typeof s!="symbol"?s+"":s,n);import{q as B,r as g,u as $,l as e,m as M,n as F,L as J,o as Pe,p as X,a as Z,O as pe,S as Ee,s as Fe,t as qe,v as Ae,w as Le,x as Ne,Q as Ue,y as Oe}from"./react-DWbisgcc.js";import{F as m,A as he,I as y,B as p,a as c,s as E,T as A,R as _e,b as ge,D as $e,U as V,c as xe,d as fe,M as se,e as ne,f as Me,g as je,h as De,P as ye,i as Be,j as ze,k as Ge,l as Qe,m as Ie,n as We,o as He,p as Ve,q as Je,r as Xe,t as Ye,u as Ke,v as Ze,w as et,x as ae,y as tt,z as st,C as nt,E as at,G as rt,H as it,J as ot,K as ct,S as re,L as ve,N as lt,O as dt}from"./ant--RerUYMB.js";import{b8 as ut,b9 as mt,ba as ie,bb as pt,F as _}from"./vendor-CZSRt202.js";import{u as ht}from"./usehooks-DHEyCyAz.js";import{R as gt,a as xt,P as ft,b as jt,c as yt,d as It}from"./recharts-DibwJOIE.js";import"./utils-DqWJnTIG.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const L={user:"user",userAvatar:"userAvatar",checkLogin:"checkLogin",attachments:"attachments",attachmentsUrl:"attachmentsUrl",tasks:"tasks",completedTasks:"completedTasks",taskTypes:"taskTypes"};class R{constructor(s){H(this,"name");H(this,"message");H(this,"code");this.message=s.message,this.name=s.name,s.code&&(this.code=s.code)}}const I=ut("https://bezykkplqcrsoettxmqn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJlenlra3BscWNyc29ldHR4bXFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTAzMzUxMTUsImV4cCI6MjAyNTkxMTExNX0.vxAZ78i4fJs8x3WYn9W_vxxTMz8DiQuJngbP_upuz40"),Q=t=>{if(t instanceof Error)throw new R(t);if(t!=null&&t.code)throw console.log("DataProvider?.checkApiError",t),t},vt=t=>B({queryKey:[L.checkLogin,t],queryFn:async({queryKey:s,signal:n})=>{console.log("signal",n);const{data:a,error:r}=await I.from("users").select().eq("login",s[1]).abortSignal(n);if(r)throw new R({message:r.message,name:"Не удалось проверить логин"});return!!a.length}}),wt=async t=>{const{data:s,error:n}=await I.from("users").update(t).eq("id",t.id).select();if(n)throw new R({message:n.message,name:"Не удалось обновить данные пользователя"});if(s)return s[0]},kt=t=>B({queryKey:[L.user,t],queryFn:async({queryKey:s,signal:n})=>{const{data:a,error:r}=await I.from("users").select().eq("id",s[1]).abortSignal(n);if(r)throw new R({message:r.message,name:"Не удалось получить данные пользователя"});return a[0]},enabled:!!t}),ee={checkLogin:vt,updateUserInfo:wt,getUserById:kt},bt=t=>B({queryKey:[L.attachments,t],queryFn:async({signal:s,queryKey:n})=>{const{data:a,error:r}=await I.from("attachments").select().eq("id",n[1]).abortSignal(s);if(r)throw new R({name:"Не удалось получить вложения",message:`${r.code}: ${r.message}`});return a[0]},select:s=>({fullPath:s.full_path,id:s.id,path:s.path,publicUrl:s.public_url}),enabled:!!t}),Tt=async(t,s)=>{const{error:n}=await I.from("attachments").delete().eq("id",t.id);if(n)throw new R({name:"Не удалось удалить вложения",message:`${n.code}: ${n.message}`});const{error:a}=await I.storage.from(s).remove([t.path]);if(a)throw new R({name:"Не удалось удалить файл из хранилища",message:`${a.name}: ${a.message}`})},Ct=async(t,s)=>{const{data:n,error:a}=await I.storage.from(s).upload(t.name,t);if(a)throw new R({name:"Не удалось сохранить вложения",message:`${a.name}: ${a.message}`});const{data:{publicUrl:r}}=I.storage.from(s).getPublicUrl(n.path);console.log("uploadedFile",n);const{error:i}=await I.from("attachments").insert([{id:n.id,path:n.path,full_path:n.fullPath,public_url:r||null}]).select();if(i)throw new R({name:"Не удалось получить вложения",message:`${i.code}: ${i.message}`});return{...n,publicUrl:r}},te={getAttachmentById:bt,deleteAttachment:Tt,saveAttachment:Ct},ce="sb-bezykkplqcrsoettxmqn-auth-token",we=g.createContext({user:null,isAuthCheking:!0,isUserLoading:!1,setUserId:()=>{},logOut:()=>{}}),Rt=({children:t})=>{const[s,n]=g.useState(null),[a,r]=g.useState(!0),{data:i=null,isFetching:l}=$({...ee.getUserById(s)}),{data:d=null}=$({...te.getAttachmentById(i==null?void 0:i.avatar_id)}),u=()=>{localStorage.removeItem(ce),n(null)};g.useEffect(()=>{const v=localStorage.getItem(ce);if(!v){r(!1);return}const{user:T}=JSON.parse(v);T.id&&(n(T.id),r(!1))},[]),g.useEffect(()=>{i&&!a&&r(!1)},[i,a]);const h=g.useMemo(()=>i?{...i,avatar:d||null}:null,[i,d]);return e.jsx(we.Provider,{value:{user:h,isAuthCheking:a,setUserId:n,isUserLoading:l,logOut:u},children:t})},St=new mt,Pt={cssVar:!0,token:{fontSize:16,colorBgLayout:"none",colorLink:"#7CB2B0",colorBorder:"#D2D7E3",colorTextPlaceholder:"var(--gray-5)"},components:{Layout:{siderBg:"#CDE1E1"},Input:{colorBgBase:"none",colorBgContainer:"none",fontSize:16,borderRadius:0},Typography:{titleMarginBottom:"none",titleMarginTop:"none"},Upload:{colorInfoText:"var(--gray-5)"}}},b={REQUIRED:"Поле обязательно",PASSWORD_DUPLICATE:"Пароли должны совпадать",MIN_LENGTH:t=>`Минимальная длина ${t} символов`,MAX_LENGTH:t=>`Максимальная длина ${t} символов`,CYRILLIC:"Недопустимые символы,только кирилица"},Et=14,Ft=ie().subtract(Et,"year"),qt=ie(),le=5,de=25,At="Логин уже занят",k={SIGN_IN:"/sign-in",SIGN_UP:"/sign-up",RESET_PASSWORD:"/reset-password",UPDATE_PASSWORD:"/update-password",BASE:"/",USER:"/user",CHECK_LOGIN:"/check-login",STATISTIC:"/statistic",TASKS:"/tasks",LOGOUT:"/logout",INFO:"/info"},Lt="http://localhost:5173/update-password",Nt=async({email:t,password:s})=>{const{data:n,error:a}=await I.auth.signInWithPassword({email:t,password:s});return Q(a),n},Ut=async({email:t,password:s})=>{const{data:n,error:a}=await I.auth.signUp({email:t,password:s});if(pt(a))throw new R({name:"Недопустимый пароль",message:a.message});Q(a);const{data:r,error:i}=await I.from("users").upsert({id:n.user.id,login:n.user.email,email:n.user.email});return Q(i),r},Ot=async t=>{const{data:s,error:n}=await I.auth.resetPasswordForEmail(t,{redirectTo:Lt});return Q(n),s},_t=async t=>{const{data:s,error:n}=await I.auth.updateUser({password:t});return Q(n),s},Y={signIn:Nt,signUp:Ut,resetPassword:Ot,updatePassword:_t},O=()=>g.useContext(we),ue=()=>{const{setUserId:t}=O(),s=M(),n=F({mutationFn:Y.signIn,onSuccess:r=>{t(r.user.id),s(k.BASE)}}),a=r=>{n.mutate({email:r.email,password:r.password})};return e.jsxs(e.Fragment,{children:[e.jsxs(m,{name:"sign-in",layout:"vertical",style:{width:"100%"},onFinish:a,children:[!!n.error&&e.jsx(he,{message:n.error.message||"",type:"error"}),e.jsx(m.Item,{name:"email",label:"Почта пользователя",rules:[{required:!0,message:b.REQUIRED}],children:e.jsx(y,{size:"large",type:"email"})}),e.jsx(m.Item,{name:"password",label:"Пароль",rules:[{required:!0,message:b.REQUIRED}],children:e.jsx(y.Password,{size:"large",type:"password"})}),e.jsx(m.Item,{style:{textAlign:"center"},children:e.jsx(p,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:n.isPending,children:"Войти"})})]}),e.jsxs(c,{className:"sign-in-actions",align:"center",justify:"space-between",children:[e.jsx(J,{to:k.RESET_PASSWORD,children:"Забыли пароль ?"}),e.jsx(J,{to:k.SIGN_UP,children:"Регистрация"})]})]})},$t=()=>{const t=M(),s=Pe(),n=F({mutationFn:Y.signUp,onSuccess:()=>{E.success("Вы успешно зарегестрированы войдите в систему"),t(k.BASE)}});return e.jsxs(m,{layout:"vertical",style:{width:"100%"},onFinish:n.mutate,disabled:n.isPending,children:[!!n.error&&e.jsx(he,{style:{margin:"10px 0"},message:s.message||"",type:"error"}),e.jsx(m.Item,{name:"email",label:"Почта",rules:[{required:!0,message:b.REQUIRED}],children:e.jsx(y,{size:"large",type:"email"})}),e.jsx(m.Item,{name:"password",label:"Пароль",rules:[{required:!0,message:b.REQUIRED}],children:e.jsx(y.Password,{size:"large",type:"password"})}),e.jsx(m.Item,{name:"passwordRepeat",dependencies:["password"],label:"Повторите пароль",rules:[{required:!0,message:b.REQUIRED},({getFieldValue:a})=>({validator(r,i){return!i||a("password")===i?Promise.resolve():Promise.reject(new Error(b.PASSWORD_DUPLICATE))}})],children:e.jsx(y.Password,{size:"large",type:"password"})}),e.jsx(m.Item,{style:{textAlign:"center"},children:e.jsx(p,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:n.isPending,children:"Зарегестрироваться"})}),e.jsx(c,{align:"center",justify:"center",children:e.jsx(J,{to:k.SIGN_IN,children:"К форме аторизации"})})]})},Mt=()=>{const t=F({mutationFn:Y.resetPassword,onSuccess:()=>{E.success("Письмо отправлено на почту")}});return console.log("resetPasswordMutation.data",t.data),e.jsxs(e.Fragment,{children:[t.data?e.jsx(A.Title,{level:2,style:{textAlign:"center",marginBottom:"1rem"},children:"Письмо отправлено на email"}):e.jsxs(m,{name:"sign-in",layout:"vertical",style:{width:"100%"},onFinish:({email:s})=>t.mutate(s),children:[e.jsx(m.Item,{name:"email",label:"Почта пользователя",rules:[{required:!0,message:b.REQUIRED}],children:e.jsx(y,{size:"large",type:"email"})}),e.jsx(m.Item,{style:{textAlign:"center"},children:e.jsx(p,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:t.isPending,children:"Сбросить пароль"})})]}),e.jsx(c,{align:"center",justify:"center",children:e.jsx(J,{to:k.SIGN_IN,children:"К форме аторизации"})})]})},Dt=(t,s)=>{const n=new FileReader;n.addEventListener("load",()=>s(n.result)),n.readAsDataURL(t)},ke=t=>{const s=t.type==="image/jpeg"||t.type==="image/png";if(!s)return"Загрузить можно только файлы в формате: jpeg, png";const n=t.size/1024/1024<2;return n?s&&n:"Файл должен быть меньше 2MB"},Bt="DD.MM.YYYY",zt=1e3,be=60*zt,Te=(t,s)=>{if(t===s)return!0;if(typeof t!="object"&&typeof t!="function"||typeof s!="object"&&typeof s!="function")return!1;if(t===null||s===null)return t===s;const n=Object.keys(t),a=Object.keys(s);if(n.length!==a.length)return!1;for(let r of n)if(!a.includes(r)||!Te(t[r],s[r]))return!1;return!0},Gt=()=>{const{user:t}=O(),s=X(),[n,a]=g.useState(!1),[r,i]=g.useState(null),[l,d]=g.useState(!1),[u]=m.useForm(),h=g.useRef(Qt),v=F({mutationFn:j=>ee.updateUserInfo({...j,id:t.id}),onSuccess:(j,P)=>{s.setQueryData([L.user,t==null?void 0:t.id],{...t,...P})}}),T=F({mutationFn:async j=>te.deleteAttachment(j,"avatar")}),f=F({mutationFn:async j=>te.saveAttachment(j,"avatar")});g.useEffect(()=>{var j;h.current={login:(t==null?void 0:t.login)||"",birthday:ie(t==null?void 0:t.birthdate),surname:(t==null?void 0:t.surname)||"",name:(t==null?void 0:t.name)||"",patronymic:(t==null?void 0:t.patronymic)||"",avatar:(t==null?void 0:t.avatar)||null},(j=t==null?void 0:t.avatar)!=null&&j.publicUrl&&i(t.avatar.publicUrl),u.setFieldsValue(h.current)},[t,u]);const w=async(j,P)=>{if(P===(t==null?void 0:t.login))return Promise.resolve();try{return await s.fetchQuery(ee.checkLogin(P))?Promise.reject(At):Promise.resolve()}catch{return Promise.reject("При проверке логина произошла ошибка")}},N=j=>{d(!Te(j,h.current))},o=({file:j})=>{j&&(a(!0),u.setFieldValue("avatar",j),Dt(j,P=>{a(!1),i(P)}))},x=()=>{u.setFieldValue("avatar",""),i(null),d(!0)},C=u.getFieldsError().filter(({errors:j})=>j.length).length>0,D=async()=>{const j=t==null?void 0:t.avatar,P=u.getFieldValue("avatar");return j&&(P instanceof File||!P)&&await T.mutateAsync(j),P instanceof File?await f.mutateAsync(P):null};return{isAvatarLoading:n,checkDirty:N,avatarUrl:r,isFormDirty:l,form:u,updateUser:async j=>{const{avatar:P,...K}=j;let z;return P!==(t==null?void 0:t.avatar)?z=await D():z=(t==null?void 0:t.avatar)||null,v.mutate({...K,avatar_id:(z==null?void 0:z.id)||null})},handleChangeAvatar:o,deleteAvatar:x,checkLogin:w,updateAvatar:D,hasErrors:C,isFormSubmitting:v.isPending||f.isPending||T.isPending}},Qt={login:"",birthday:null,surname:"",name:"",patronymic:"",avatar:null},{confirm:Wt}=se,Ht=({onCancel:t})=>{const{form:s,updateUser:n,checkDirty:a,isAvatarLoading:r,avatarUrl:i,isFormDirty:l,handleChangeAvatar:d,deleteAvatar:u,checkLogin:h,isFormSubmitting:v}=Gt(),T=o=>{n(o).then(()=>{E.success("Данные успешно сохранены"),t()}).catch(()=>{E.error("Ошибка при сохранении данных")})},f=e.jsx(p,{style:{border:0,background:"none"},type:"text",children:e.jsx(c,{vertical:!0,align:"center",justify:"center",children:r?e.jsx(_e,{}):e.jsxs(A.Paragraph,{type:"secondary",style:{marginTop:8},children:[e.jsx(ge,{style:{color:"var(--gray-7)"}})," Загрузить"]})})}),w=()=>{l?Wt({title:"Закрыть окно ?",content:"Несохраненные изменения будут утеряны.",okText:"Да",cancelText:"Нет",onOk:t}):t()},N=o=>{const x=ke(o),C=typeof x!="string";return C||E.error(x),C};return e.jsxs(m,{onFinish:T,labelAlign:"left",layout:"vertical",labelWrap:!0,disabled:v,form:s,onValuesChange:(o,x)=>a(x),size:"large",style:{position:"relative",maxWidth:"600px"},children:[e.jsxs(c,{align:"center",children:[e.jsxs(c,{vertical:!0,flex:1,children:[e.jsx(m.Item,{label:"Логин",name:"login",wrapperCol:{span:22},validateTrigger:["onBlur","onChange"],validateFirst:!0,rules:[{required:!0,message:b.REQUIRED},{min:le,message:b.MIN_LENGTH(le)},{max:de,message:b.MAX_LENGTH(de)},{validateTrigger:["onBlur"],validator:h}],children:e.jsx(y,{placeholder:"LUKA"})}),e.jsx(m.Item,{label:"Дата рождения",name:"birthday",wrapperCol:{span:22},rules:[{required:!0,message:b.REQUIRED,type:"date"}],children:e.jsx($e,{style:{width:"100%"},placeholder:"06.06.0006",format:Bt,maxDate:qt,minDate:Ft})})]}),e.jsxs(m.Item,{name:"avatar",valuePropName:"fileList[0]",style:{position:"relative"},children:[e.jsx(V,{className:"person-form-upload",name:"avatar",listType:"picture-card",showUploadList:!1,beforeUpload:N,customRequest:d,disabled:!!i,children:i?e.jsx("div",{style:{margin:"4px",borderRadius:"4px",overflow:"hidden"},children:e.jsx(xe,{height:140,style:{objectFit:"cover"},src:i,preview:{toolbarRender:()=>null}})}):f}),i&&e.jsx(p,{style:{position:"absolute",bottom:-32,right:0},type:"text",size:"small",onClick:u,icon:e.jsx(fe,{})})]})]}),e.jsx(m.Item,{label:"Фамилия",name:"surname",rules:[{pattern:/^[\s\u0400-\u04FF]+$/,message:b.CYRILLIC}],children:e.jsx(y,{placeholder:"Лукавый"})}),e.jsx(m.Item,{label:"Имя",name:"name",rules:[{pattern:/^[\s\u0400-\u04FF]+$/,message:b.CYRILLIC}],children:e.jsx(y,{placeholder:"Лука"})}),e.jsx(m.Item,{label:"Отчество",name:"patronymic",rules:[{pattern:/^[\s\u0400-\u04FF]+$/,message:b.CYRILLIC}],children:e.jsx(y,{placeholder:"Лукич"})}),e.jsxs(c,{gap:16,justify:"end",children:[e.jsx(p,{type:"primary",htmlType:"submit",disabled:!l,children:"Сохранить"}),e.jsx(p,{type:"default",onClick:w,children:"Отмена"})]})]})};function Vt({hideContainer:t}){var i;const[s,n]=g.useState(!1),{user:a}=O(),r=()=>{t(),n(!0)};return e.jsxs(ne.Ribbon,{text:e.jsx(A,{children:"Новичок"}),children:[e.jsxs(c,{vertical:!0,gap:16,className:"acc-container",children:[e.jsxs(c,{gap:16,children:[e.jsx(Me,{shape:"square",size:64,gap:8,src:(i=a==null?void 0:a.avatar)==null?void 0:i.publicUrl,icon:e.jsx(je,{})}),e.jsxs(c,{vertical:!0,gap:16,children:[e.jsx(A,{children:a==null?void 0:a.login}),e.jsx(A,{children:a==null?void 0:a.email}),e.jsx(A,{children:[a==null?void 0:a.surname,a==null?void 0:a.name].filter(Boolean).join(" ")})]})]}),e.jsx(p,{className:"acc-edit-button",icon:e.jsx(De,{}),size:"large",type:"text",onClick:r})]}),e.jsx(se,{open:s,closable:!1,footer:null,centered:!0,destroyOnClose:!0,title:"Реадктирование данных профиля",children:e.jsx(Ht,{onCancel:()=>{n(!1)}})})]})}const Jt={name:"",email:"",messubject:"",description:""},Xt=({close:t,isOpen:s})=>{const[n]=m.useForm(),[a,r]=Z.useState([]),[i,l]=Z.useState(""),[d,u]=Z.useState(!1),h=F({mutationFn:Yt,onSuccess:()=>{E.success("Обращение успешно отправлено"),n.resetFields(),r([]),t()},onError:()=>{E.error("Не удалось отправить обращение")}}),v=o=>{const x=ke(o);return console.log("result",x),typeof x=="string"?(E.error(x+":"+o.name),V.LIST_IGNORE):!0},T=({file:o})=>{console.log("handleUploadChange",a),r([...a,o])},f=async o=>{console.log("handlePreview",o),!o.url&&!o.preview&&o.originFileObj&&(o.preview=URL.createObjectURL(o.originFileObj)),l(o.url||o.preview||URL.createObjectURL(o)),u(!0)},w=o=>{const x={...o,attachments:a.map(C=>C.originFileObj).filter(Boolean)};h.mutate(x)},N=()=>{l(""),r([]),t()};return e.jsx(se,{title:"Форма обратной связи",open:s,onCancel:N,destroyOnClose:!0,footer:null,className:"feed-back-modal",children:e.jsxs(m,{name:"feedback_form",layout:"vertical",onFinish:w,form:n,initialValues:Jt,size:"large",children:[e.jsxs(c,{justify:"space-between",gap:16,children:[e.jsxs(c,{vertical:!0,flex:1,children:[e.jsx(m.Item,{label:"Имя",name:"name",rules:[{required:!0}],children:e.jsx(y,{})}),e.jsx(m.Item,{label:"Email",name:"email",validateTrigger:["onBlur"],rules:[{required:!0,message:""},{required:!0,type:"email",message:"Введен некоретный email"}],children:e.jsx(y,{})}),e.jsx(m.Item,{label:"Тема",name:"subject",rules:[{required:!0,message:"Введите тему"},{min:6,message:"Тема должна быть не менее 6 символов"}],children:e.jsx(y,{})})]}),e.jsx(c,{flex:1,children:e.jsx(m.Item,{style:{width:"100%"},label:"Описание",name:"description",rules:[{required:!0,message:"Введите описание"},{min:10,message:"Описание должно быть не менее 10 символов"}],children:e.jsx("div",{style:{position:"relative"},children:e.jsx(y.TextArea,{rows:7,style:{resize:"none",paddingBottom:40}})})})})]}),a.length>0&&e.jsx(V,{fileList:a,className:"feedback-attachments",onRemove:o=>{const x=a.indexOf(o),C=a.slice();C.splice(x,1),r(C)},onPreview:f,listType:"text"}),i&&e.jsx(xe,{style:{display:"none",height:0},src:i,preview:{visible:d,onVisibleChange:o=>u(o),destroyOnClose:!0,toolbarRender:()=>null}}),e.jsxs(c,{children:[e.jsx(V,{beforeUpload:v,fileList:a,multiple:!0,maxCount:5,accept:".jpeg,.jpg,.png",showUploadList:!1,customRequest:T,children:e.jsx(p,{icon:e.jsx(ge,{}),type:"text"})}),e.jsxs(c,{style:{marginLeft:"auto"},gap:8,children:[e.jsx(p,{onClick:N,children:"Отмена"}),e.jsx(p,{type:"primary",htmlType:"submit",loading:h.isPending,children:"Отправить"})]})]})]})})},Yt=async t=>(console.log("sendFeedback",t),await new Promise(s=>setTimeout(s,1e3)),Math.random()>.3?Promise.resolve():Promise.reject(new Error("Ошибка сервера"))),Kt=()=>{const{logOut:t}=O(),[s,n]=g.useState(!1),[a,r]=g.useState(!1),i=M();return e.jsxs(c,{vertical:!0,justify:"space-between",className:"menu-wrapper",children:[e.jsxs("div",{className:"user-button-wrapper",children:[e.jsx(p,{type:"text",icon:e.jsx(je,{size:24}),onClick:()=>n(!0)}),e.jsx(ye,{placement:"bottomLeft",content:e.jsx(Vt,{hideContainer:()=>n(!1)}),overlayInnerStyle:{padding:0},arrow:!1,open:s,trigger:"click",onOpenChange:l=>n(l),children:e.jsx("div",{className:"menu-point-popover"})})]}),e.jsxs(c,{vertical:!0,justify:"space-between",style:{height:"100%",marginTop:"0.4rem"},children:[e.jsxs(c,{vertical:!0,gap:"0.5rem",children:[e.jsx(p,{type:"text",icon:e.jsx(Be,{size:24}),title:"Статистика",onClick:()=>{i(k.STATISTIC)}}),e.jsx(p,{icon:e.jsx(ze,{size:24}),onClick:()=>i(k.INFO),type:"text",title:"О приложении"})]}),e.jsxs(c,{vertical:!0,children:[e.jsx(p,{icon:e.jsx(Ge,{size:24}),onClick:()=>r(!0),type:"text"}),e.jsx(p,{type:"text",icon:e.jsx(Qe,{size:24}),title:"Выход",onClick:t})]})]}),e.jsx(Xt,{close:()=>r(!1),isOpen:a})]})},Zt=()=>e.jsxs(c,{gap:"0",align:"center",justify:"space-between",style:{width:"100%",height:"100%"},children:[e.jsx(Kt,{}),e.jsx(pe,{})]}),es=()=>B({queryKey:[L.taskTypes],queryFn:async({signal:t})=>{const{data:s,error:n}=await I.from("task_types").select("*").abortSignal(t);if(n)throw new R({name:"Не удалось получить типы задач",message:`${n.code}: ${n.message}`});return s}}),ts=t=>B({queryKey:[L.tasks,t],queryFn:async({signal:s,queryKey:n})=>{const{data:a,error:r}=await I.from("tasks").select("*").eq("author_id",n[1]).abortSignal(s);if(r)throw new R({name:"Не удалось список задач",message:`${r.code}: ${r.message}`});return a}}),ss=(t,s)=>B({queryKey:[L.completedTasks,t],queryFn:async({signal:n,queryKey:a})=>{const r=I.from("tasks_completed").select("*").eq("author_id",a[1]).order("completed_at",{ascending:!1});s&&r.eq("type_id",s);const{data:i,error:l}=await r.abortSignal(n);if(l)throw new R({name:"Не удалось список задач",message:`${l.code}: ${l.message}`});return i}}),ns=async({authorId:t,task:s,taskStatus:n,typeId:a})=>{const{data:r,error:i}=await I.from("tasks").insert({author_id:t,type_id:a,text:s,status_id:n}).select();if(i)throw new R({name:"Не удалось создать задачу",message:`${i.code}: ${i.message}`});return r[0]},as=async t=>{const{error:s}=await I.from("tasks").delete().eq("id",t);if(s)throw new R({name:"Не удалось удалить задачу",message:`${s.code}: ${s.message}`});return t},rs=async({id:t,...s})=>{const{data:n,error:a}=await I.from("tasks").update({...s}).eq("id",t).select();if(a)throw new R({name:"Не удалось обновить задачу",message:`${a.code}: ${a.message}`});return n[0]},U={getTaskTypes:es,getUserTasks:ts,getUserCompletedTasks:ss,createTask:ns,deleteTask:as,updateTask:rs};var S=(t=>(t.soul="soul",t.health="health",t.social="social",t.life="life",t.growth="growth",t.mind="mind",t.rest="rest",t))(S||{}),q=(t=>(t.active="active",t.completed="completed",t.new="new",t))(q||{});const is=()=>{const{user:t}=O(),[s,n]=g.useState(),a=g.useMemo(()=>(t==null?void 0:t.id)||"",[t==null?void 0:t.id]),{data:r,isLoading:i}=$({...U.getTaskTypes(),refetchOnWindowFocus:!1,refetchOnMount:!1}),{data:l=[],isLoading:d}=$({...U.getUserTasks(a),refetchIntervalInBackground:!0,refetchInterval:5*be,refetchOnWindowFocus:!1,enabled:!!a});return g.useEffect(()=>{if(!(r!=null&&r.length))return;const u={};r.forEach(h=>{u[h.id]||(u[h.id]={data:[],stats:{all:0,inWork:0},label:h.title})}),l.forEach(h=>{u[h.type_id].data.push(h),u[h.type_id].stats.all+=1,h.status_id===q.active&&(u[h.type_id].stats.inWork+=1)}),n(u)},[l,r]),{taskTypesIsLoading:i,taskTypes:r,userTasks:l,userTasksIsLoading:d,taskGroups:s,userId:a}},os=(t,s)=>{const[n,a]=g.useState(t.text),r=ht(n,300);return g.useEffect(()=>{r!==t.text&&s({...t,text:r})},[r,s,t]),{value:n,setValue:a}},cs=({task:t})=>{const{done:s,priority:n=0}=t,a=X(),{user:r}=O(),i=F({mutationFn:U.deleteTask,onSuccess:o=>{a.setQueryData([L.tasks,r.id],x=>x==null?void 0:x.filter(C=>C.id!==o))}}),l=F({mutationFn:U.updateTask,onSuccess:o=>{a.setQueryData([L.tasks,r.id],x=>{const C=[...x??[]],D=C.findIndex(oe=>oe.id===o.id);return D!==-1&&(C[D]={...C[D],...o}),[...C]})}}),d=()=>{i.mutate(t.id,{onError:o=>{E.error(o.message)}})},u=o=>{l.mutate(o)},h=()=>{u({...t,done:!t.done})},v=()=>{u({...t,status_id:t.status_id===q.active?q.new:q.active,done:!1})},{value:T,setValue:f}=os(t,u),w=i.isPending||l.isPending,N=()=>{switch(t.status_id){case q.active:return e.jsx(y,{className:_("task-input",!!n&&`task-input--prioriry-${n}`,{"task-input--done":!!s,"task-input--has-prioriry ":!!n}),value:T,disabled:w,onChange:o=>{f(o.target.value)},prefix:e.jsx(p,{icon:e.jsx(Ve,{className:_("task-icon-check-online",s&&"task-icon-check-online--checked")}),type:"text",onClick:h}),suffix:e.jsxs(c,{className:"task-input-actions",justify:"end",children:[e.jsx(p,{icon:e.jsx(Je,{}),type:"text"}),e.jsx(p,{icon:e.jsx(Xe,{}),type:"text"}),e.jsx(p,{icon:e.jsx(Ie,{}),type:"text"}),e.jsx(p,{icon:e.jsx(Ye,{}),onClick:v,type:"text"}),e.jsx(p,{disabled:i.isPending,className:"action-delete",icon:e.jsx(fe,{}),onClick:d,type:"text"})]})});case q.new:return e.jsx(y,{className:"task-input",value:T,onChange:o=>{f(o.target.value)},prefix:e.jsx(p,{icon:e.jsx(We,{}),onClick:v,type:"text"}),suffix:e.jsx(p,{icon:e.jsx(He,{}),onClick:d,type:"text"})})}};return e.jsx(c,{justify:"space-between",align:"center",gap:16,children:N()})},ls=({text:t,author_id:s,type_id:n})=>{const a=X(),r=F({mutationFn:U.createTask}),i=()=>{r.mutate({authorId:s,task:t,taskStatus:q.new,typeId:n},{onSuccess:async()=>{await a.invalidateQueries({queryKey:[L.tasks,s]}),E.success("Задача добавлена в 'Запланированные' ")}})};return e.jsx(c,{justify:"space-between",align:"center",gap:16,className:"task-completed-row",children:e.jsx(y,{className:"task-input",value:t,readOnly:!0,suffix:e.jsx(p,{onClick:i,icon:e.jsx(Ie,{}),shape:"circle",type:"text",loading:r.isPending})})})},W={soul:{id:S.soul,title:"Дух",icon:Ke,info:"Дух : Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic magni aliquam deserunt suscipit odit similique quos natus cum quia facilis nemo sit, repellendus culpa maiores quo minima eius non? Perferendis?"},health:{id:S.health,title:"Здоровье",icon:Ze,info:"Здоровье: Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic magni aliquam deserunt suscipit odit similique quos natus cum quia facilis nemo sit, repellendus culpa maiores quo minima eius non? Perferendis?"},social:{id:S.social,title:"Социум",icon:et,info:"Социум: Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic magni aliquam deserunt suscipit odit similique quos natus cum quia facilis nemo sit, repellendus culpa maiores quo minima eius non? Perferendis?"},life:{id:S.life,title:"Быт",icon:ae,info:"Быт: Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic magni aliquam deserunt suscipit odit similique quos natus cum quia facilis nemo sit, repellendus culpa maiores quo minima eius non? Perferendis?"},growth:{id:S.growth,title:"Развитие",icon:tt,info:"Развитие: Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic magni aliquam deserunt suscipit odit similique quos natus cum quia facilis nemo sit, repellendus culpa maiores quo minima eius non? Perferendis?"},mind:{id:S.mind,title:"Интеллект",icon:st,info:"Интеллект: Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic magni aliquam deserunt suscipit odit similique quos natus cum quia facilis nemo sit, repellendus culpa maiores quo minima eius non? Perferendis?"},rest:{id:S.rest,title:"Отдых",icon:nt,info:"Отдых: Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic magni aliquam deserunt suscipit odit similique quos natus cum quia facilis nemo sit, repellendus culpa maiores quo minima eius non? Perferendis?"}},ds=Object.keys(W).map(t=>W[t]),me=({title:t,total:s=0,complite:n=0,tasks:a,taskStatus:r,typeId:i})=>{const[l,d]=g.useState(!1),u=X(),[h]=m.useForm(),{user:v}=O(),{mutate:T,isPending:f}=F({mutationFn:async o=>await U.createTask(o),onSuccess(o){u.setQueryData([L.tasks,v.id],x=>[...x,o])}}),w=r===q.active,N=({task:o})=>{T({task:o,taskStatus:r,typeId:i,authorId:v.id},{onError:x=>{E.error(x.name)},onSuccess:async()=>{h.resetFields()}})};return e.jsxs(c,{vertical:!0,className:_({"task-field-wrapper":!0,"task-field-wrapper--active":w}),children:[e.jsx(ne,{count:n?`${n}/${s}`:s,offset:[20,12],className:_({"task-field-badge":!0,"task-field-badge--active":w}),children:e.jsxs(A.Text,{type:"secondary",children:[t,":"]})}),e.jsx(m,{onFinish:N,form:h,className:"task-field-form",children:e.jsx(m.Item,{noStyle:!0,name:"task",children:e.jsx(c,{onClick:()=>d(!0),onBlur:()=>d(!1),children:e.jsx(y,{disabled:f,className:_("task-input","task-input-create",w&&"task-input-create--active"),placeholder:l?"":"Создать задачу",prefix:l?e.jsx(at,{style:{fontSize:16}}):e.jsx(rt,{})})})})}),e.jsx("div",{className:"task-field-content",children:a.map(o=>e.jsx(cs,{task:o},o.id))})]})},us=({active:t=!1,tasks:s=[],type:n,userId:a})=>{const[r,i]=g.useState(!1),{data:l=[],isFetching:d}=$({...U.getUserCompletedTasks(a,n),enabled:r});if(g.useEffect(()=>{!t&&r&&i(!1)},[t,r]),!t||!n)return;const u=W[n],{activeTasks:h=[],newTasks:v=[]}=s.reduce((f,w)=>(w.status_id==="new"&&f.newTasks.push(w),w.status_id==="active"&&f.activeTasks.push(w),f),{newTasks:[],activeTasks:[]}),T=h.filter(({done:f})=>f).length;return e.jsxs(c,{className:"task-type-panel",vertical:!0,align:"start",gap:8,children:[e.jsxs(c,{className:"task-type-panel__content",vertical:!0,flex:1,children:[e.jsx(me,{title:"В работе",complite:T,total:h.length,taskStatus:q.active,tasks:h,typeId:n}),e.jsx(me,{title:"Запланированы",total:v.length,taskStatus:q.new,tasks:v,typeId:n})]}),e.jsxs(c,{className:"task-type-panel__float-buttons",vertical:!0,gap:4,children:[u&&e.jsx(ye,{content:e.jsx("div",{style:{width:500},children:u.info}),title:"Разяснение в помощь о текуших задач",children:e.jsx(p,{icon:e.jsx(it,{size:24}),size:"small",type:"text",shape:"circle"})}),e.jsx(p,{icon:e.jsx(ot,{}),title:"Показать выполненные",size:"small",type:"text",shape:"circle",onClick:f=>{f.stopPropagation(),i(!0)}})]}),e.jsx(ct,{title:e.jsxs(e.Fragment,{children:[e.jsx(A.Text,{type:"secondary",children:" Звершенные задачи : "}),e.jsx(ne,{count:l.length,color:"cyan"})]}),placement:"right",onClose:f=>{f.stopPropagation(),i(!1)},open:r,getContainer:!1,styles:{mask:{background:"none"},header:{padding:"0.5rem 1rem"},body:{padding:"0.5rem 1rem"}},children:e.jsx(c,{vertical:!0,gap:16,children:e.jsx(re,{spinning:d,children:[...l,...l].map((f,w)=>g.createElement(ls,{...f,key:w}))})})})]})},ms=({stats:t,onClick:s,active:n=!1,id:a,title:r})=>{const i=W[a].icon||null;return e.jsxs(c,{className:_({"task-type-container":!0,"task-type-container--active":n}),vertical:!0,justify:"space-between",onClick:l=>{l.stopPropagation(),s==null||s(a)},children:[e.jsx(A.Title,{level:3,children:r}),e.jsxs(c,{justify:"space-between",children:[e.jsxs(c,{vertical:!0,children:[e.jsxs("span",{children:["Текущие: ",t.inWork]}),e.jsxs("span",{children:["Всего: ",t.all]})]}),i&&e.jsx(i,{style:{fontSize:32}})]})]})},{Content:ps,Sider:hs}=ve,gs=()=>{const[t,s]=g.useState(null),n=M(),{taskGroups:a,userTasksIsLoading:r,userId:i}=is(),l=d=>{s(t===d?null:d)};return e.jsxs(ve,{className:"tasks-page-layout",children:[e.jsx(ps,{className:"task-page-content",onClick:()=>{s(null)},children:e.jsx(re,{spinning:r,children:e.jsx(c,{className:"task-page-container",children:a&&Object.keys(a).map(d=>e.jsx(ms,{active:t===d,title:a[d].label,id:d,onClick:l,stats:a[d].stats},d))})})}),e.jsx(hs,{className:_("tasks-page-sider ",!t&&"tasks-page-sider--collapsed"),trigger:null,collapsed:!t,collapsible:!0,defaultCollapsed:!0,collapsedWidth:0,width:"60%",children:e.jsx(us,{tasks:t?a[t].data:[],active:!!t,type:t,closeForm:()=>n(k.BASE),userId:i},t)})]})},xs=()=>{const t=M();return e.jsxs(c,{align:"center",justify:"center",style:{position:"relative",width:"100%",height:"100%"},children:[e.jsx(p,{type:"text",icon:e.jsx(ae,{}),style:{position:"absolute",left:"0.2rem",top:"0.2rem"},title:"На главную",onClick:()=>{t(k.BASE)}}),e.jsx(Ee,{})]})},fs=()=>e.jsx(c,{className:"auth-layout-container",vertical:!0,gap:"middle",align:"center",justify:"center",children:e.jsxs(c,{className:"auth-layout-content",vertical:!0,align:"center",justify:"center",children:[e.jsx("h1",{children:"7S"}),e.jsx(pe,{})]})}),js=({data:t})=>{const s=({payload:{value:n},textAnchor:a,x:r,y:i})=>(console.log(a),e.jsx("g",{transform:`translate(${r},${i})`,textAnchor:a,children:e.jsx("text",{x:0,y:0,dy:4,textAnchor:a,fontSize:24,fill:"var(--gray-9)",children:W[n].title})}));return e.jsx(gt,{width:"100%",height:"100%",children:e.jsxs(xt,{cx:"50%",cy:"50%",outerRadius:"80%",data:t,children:[e.jsx(ft,{}),e.jsx(jt,{dataKey:"type",tick:s}),e.jsx(yt,{stroke:"var(--gray-7)",angle:65}),e.jsx(It,{name:"Mike",dataKey:"value",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})},ys=t=>{const{data:s=[],isLoading:n}=$({...U.getTaskTypes(),refetchOnWindowFocus:!1,refetchOnMount:!1}),{data:a=[],isLoading:r}=$({...U.getUserCompletedTasks(t),refetchIntervalInBackground:!0,refetchInterval:5*be,refetchOnWindowFocus:!1,enabled:!!t}),i=g.useMemo(()=>{const d={};return s.length&&s.forEach(u=>{d[u.id]||(d[u.id]=0)}),a.forEach(u=>{++d[u.type_id]}),d},[a,s]),l=Math.max(...Object.values(i))||7;return{taskTypes:s,userTasks:a,taskTypesIsLoading:n,userTasksIsLoading:r,taskGroupStats:i,maxPower:l}},{Title:Is}=A,Ce=()=>{const t=M(),n=Fe().reduce((a,r,i)=>{var l,d;return(l=r.handle)!=null&&l.title&&a.push(e.jsx(Is,{level:4,children:(d=r.handle)==null?void 0:d.title},i)),a},[]);return e.jsxs(c,{gap:8,align:"center",style:{borderBottom:"1px solid var(--gray-5)",paddingBottom:"0.2rem",minHeight:"fit-content"},children:[e.jsx(p,{type:"text",icon:e.jsx(ae,{}),onClick:()=>{t(k.BASE)}}),n]})},vs=()=>{const{user:t}=O(),{taskGroupStats:s,maxPower:n}=ys(t.id),a=Object.keys(s).length?Object.entries(s).map(([r,i])=>({type:r,value:i,fullMark:n})):[];return e.jsxs(c,{vertical:!0,flex:1,style:{height:"100%",width:"100%",padding:"0.2rem"},children:[e.jsx(Ce,{}),e.jsx(js,{data:a})]})},ws=()=>{const t=M(),s=F({mutationFn:n=>Y.updatePassword(n),onSuccess:()=>{E.info("Пароль успешно обновлен"),t(k.SIGN_IN)},onError:n=>{E.error(n.message||"Произошла ошибка при обновлении пароля. Попробуйте позже или обратитесь к администратору")}});return e.jsxs(m,{name:"sign-in",layout:"vertical",style:{width:"100%"},onFinish:({password:n})=>s.mutate(n),children:[e.jsx(m.Item,{name:"password",label:"Новый пароль",rules:[{required:!0,message:b.REQUIRED}],children:e.jsx(y.Password,{size:"large",type:"password"})}),e.jsx(m.Item,{name:"passwordRepeat",dependencies:["password"],label:"Повторите пароль",rules:[{required:!0,message:b.REQUIRED},({getFieldValue:n})=>({validator(a,r){return!r||n("password")===r?Promise.resolve():Promise.reject(new Error(b.PASSWORD_DUPLICATE))}})],children:e.jsx(y.Password,{size:"large",type:"password"})}),e.jsx(m.Item,{style:{textAlign:"center"},children:e.jsx(p,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:s.isPending,children:"Обновить пароль"})})]})},ks=()=>e.jsxs("p",{children:["Привет! ",e.jsx("br",{}),"Данное приложение создано, как плод работы моих мыслей по поводу нашего бренного прибывания! ",e.jsx("br",{}),"- Кто я? Чего делаю и зачем ? В чем смысл?",e.jsx("br",{}),"- Насколько я близок с Богом?",e.jsx("br",{}),"- Что нужно делать? Как правильно двигаться? ",e.jsx("br",{}),"- Что я хочу и куда стремлюсь? ",e.jsx("br",{}),"- Что я делаю для развития? Доволен ли я результатом своих действий ?",e.jsx("br",{}),"- Что является движущий силой для меня?",e.jsx("br",{}),e.jsx("br",{}),"Если мысли эти Тебе чужды то возможно это приложение, которое создано впервую очередь как помошник мне в собственной жизни - не подойдет Тебе, в этом нет ничего страшного - значит у Тебя свой путь - ищи его ! и Удачи Тебе! Если в чем-то вопросы совпадают или Ты понимаешь ход моих мыслей, то читай далее... Аксимома - Принял тот факт, что ответом на все вопросы у меня нет, сей час точно, а может и не будет никогда...",e.jsx("br",{}),"Факт 1 - жизнь идет несмотря на то , нашел ли я ответы или нет и с этим надо что-то делать",e.jsx("br",{}),"Факт 2 - мне почему-то ничего не хочется, может потому что очень долго был зависимым или в базовой комплектации со мной что-то не так - суть имеем что имеем",e.jsx("br",{}),"Вывод - выделить оснонвые группы дел (как мне кажется) в течении жизни, которые спосоствуют гармоничному развитию личности (опять же по-моему мнению) чтобы двигаться по ним пока идет поиск ответов на вопросы, что ранее перечислил...",e.jsx("br",{}),"Итог: Созданы 7+1 направление (+1 потому то одну категорию - из опыта, надо включить позже, когда освоишься с системой и она войдет в Твою жизнь) которые надо сделать привычками(привычками потому что Факт2 - ничего не хочется=) ), это разовьет дисциплину, в дисциплина это всего хорошо. это всегда Сила Воли",e.jsx("br",{}),"Категории, что я выделил: Здоровье, Духовное-нравственное развитие, Взаимодействие с социумом, Развитие интеллеката, Бытовые дела, Развитие проффесиональное, Отдых (порядок - просто перечисление, не содержит приоретиацию)"]}),bs=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Ежедневная забота о теле – основа всего."}),e.jsx("p",{children:"Утренняя зарядка, прогулка, питьевой режим, здоровый сон и питание дают энергию, укрепляют иммунитет и повышают стрессоустойчивость, позволяя эффективно справляться с любыми задачами."}),e.jsx("p",{children:"Например для меня, это стакан воды в день, утренняя зарядка с обливаниями, три раза в неделю упражнения\\бег, упражнения для глаз."})]}),Ts=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Социальные коммуникации."}),e.jsx("h3",{children:"Общение – фундамент эмоционального благополучия."}),e.jsx("p",{children:"Короткий разговор с близким, обед с коллегой или вежливый диалог с соседом поддерживают связи, дарят чувство принадлежности, помогают решать вопросы и снимают напряжение, делая жизнь насыщеннее.."}),e.jsx("p",{children:"Например для меня, это провести время с Семьей или позвонить Отцу, Брату, навестить Маму на работе, позвонить с другом."})]}),Cs=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:" Духовно-нравственная воспитание"}),e.jsxs("p",{children:["Сюда я вынес все то с чем мы сталиваемся в поисках ответов на след вопросы:",e.jsx("br",{}),"Кто я? Есть ли Бог? Быть или не быть? Что для меня важно и во что я верю и т.д.",e.jsx("br",{}),"Слово это все то, что помогает Вам познать себя, мир вокруг Вас от бесконечно малого во внутрь, до бесконечно большого во вне"]}),e.jsx("p",{children:"Работа над этим необходимо, как мне кажется, чтобы обрести некий фундамент осознанности в поступках и убеждений"}),e.jsxs("p",{children:["Не буду углублять в какую-то философию или религизность - это Ваше личное дело, Ваш личный путь...",e.jsx("br",{}),"Как пример: лично для меня сюда вошли утренние и вечерние молитвы, работа по 12 шаговой программе, дыхательные упражнения"]})]}),Rs=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Домашние дела."}),e.jsx("h3",{children:"Порядок вокруг создает порядок внутри."}),e.jsx("p",{children:"Быстрая уборка, мытье посуды, приготовление еды или раскладывание вещей по местам поддерживают комфортную среду, экономят время в будущем, снижают хаос и стресс, освобождая голову для важного."}),e.jsx("p",{children:"Например для меня, это все домашние дела которые могут возникнуть от поменять лампочки и наточить ножи до сделать навес над верандой, распечтать документы, оплатить домен, словом обычные бытовые дела которые должны быть сделаны."})]}),Ss=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Личностное-Профессиональное развитие"}),e.jsx("h3",{children:"Постоянное движение вперед – залог роста"}),e.jsx("p",{children:"Чтение профессиональной статьи, изучение нового навыка, планирование карьеры или работа над личными качествами (например, тайм-менеджмент) повышают компетентность, уверенность, открывают новые возможности и предотвращают застой."}),e.jsx("p",{children:"Например для меня, это чтение статьи по профессиональной сфере, создание этого и других приложений, подготовка докладов"})]}),Ps=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Интеллектуальные упражнения"}),e.jsx("h3",{children:"Тренировка для ума сохраняет его остроту"}),e.jsx("p",{children:"Разгадывание кроссворда, изучение иностранных слов, анализ прочитанного, решение логических задач или игра в шахматы стимулируют мозг, улучшают память, концентрацию и гибкость мышления, помогая находить нестандартные решения."}),e.jsx("p",{children:"Например для меня, это разгадывание судоку, филвордов, игры в го, решение задач на алгоритмы"})]}),Es=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Время для себя"}),e.jsx("h3",{children:"Перезагрузка необходима для продуктивности."}),e.jsx("p",{children:". Сознательное безделье, любимое хобби, медитация, теплая ванна или просто тишина позволяют телу и психике восстановиться, предотвращают выгорание, восполняют ресурсы и дарят радость, делая остальное время более качественным."}),e.jsx("p",{children:"Например для меня, это просмотр мультиков, сериалов порой рисование - тут если честно мне трудно но в пути"})]}),Fs=()=>{const[t,s]=g.useState(null),n=r=>()=>{s(i=>i&&i.id===r.id?null:r)},a=t!=null&&t.info?qs[t.id]:ks;return e.jsxs(c,{vertical:!0,className:"info-page-wrapper",children:[e.jsx(Ce,{}),e.jsxs(c,{className:"info-page-content-container",children:[e.jsx(c,{gap:8,className:"info-page-buttons",vertical:!0,children:ds.map(r=>{const i=r.icon;return i?e.jsx(p,{type:"text",className:(t==null?void 0:t.id)===r.id?"info-page-button-active":"",icon:e.jsx(i,{}),title:r.title,onClick:n(r)},r.id):null})}),e.jsx(c,{className:"info-page-content-wrapper",justify:"center",children:e.jsxs(c,{className:"info-page-content",vertical:!0,gap:8,children:[e.jsx(A.Title,{level:1,children:(t==null?void 0:t.title)||"Зачем приложение нужно"}),a&&e.jsx(a,{})]})})]})]})},qs={[S.soul]:Cs,[S.growth]:Ss,[S.health]:bs,[S.life]:Rs,[S.mind]:Ps,[S.rest]:Es,[S.social]:Ts},As=[{Component:fs,children:[{index:!0,Component:ue},{path:k.SIGN_IN,Component:ue},{path:k.SIGN_UP,Component:$t},{path:k.RESET_PASSWORD,Component:Mt},{path:k.UPDATE_PASSWORD,Component:ws},{path:"*",loader:()=>qe("/")}]}],Ls=[{Component:Zt,children:[{index:!0,Component:gs},{path:k.STATISTIC,Component:vs,handle:{title:"Статистика"}},{path:k.INFO,Component:Fs,handle:{title:"О Приложении"}},{path:"*",Component:xs}]}],Ns=()=>{const{isAuthCheking:t,user:s,isUserLoading:n}=O();if(t||n)return e.jsx(re,{fullscreen:!0});const a=Ae(s!=null&&s.id?Ls:As);return e.jsx(Le,{router:a})};let G=document.getElementById("root");G||(G=document.createElement("div"),G.id="root",document.body.appendChild(G));Ne(G).render(e.jsx(g.StrictMode,{children:e.jsxs(Ue,{client:St,children:[e.jsx(lt,{theme:Pt,locale:dt,children:e.jsx(Rt,{children:e.jsx(Ns,{})})}),e.jsx(Oe,{initialIsOpen:!1})]})}));
