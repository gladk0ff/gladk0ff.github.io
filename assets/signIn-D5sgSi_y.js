import{l as c,j as e}from"./react-Da5Vs9nI.js";import{u as p,L as a}from"./@react-router-DXQsnSo3.js";import{F as t,aw as d,I as n,M as o,B as g,y as x,a6 as i}from"./ant-IY2u0qDF.js";import{a as j}from"./auth-DtaX0GhB.js";import{u as h}from"./index-Cmdv0nt2.js";import"./vendor-CRy8jGia.js";import"./supabase-D-CCXIL6.js";import"./recharts-Ck2C22rv.js";const f=()=>{const{setUserId:m}=h(),l=p(),s=c({mutationFn:j.signIn,onSuccess:r=>{m(r.user.id),l(i.BASE)}}),u=r=>{s.mutate({email:r.email,password:r.password})};return e.jsxs(e.Fragment,{children:[e.jsxs(t,{name:"sign-in",layout:"vertical",style:{width:"100%"},onFinish:u,children:[!!s.error&&e.jsx(d,{message:s.error.message||"",type:"error"}),e.jsx(t.Item,{name:"email",label:"Почта пользователя",rules:[{required:!0,message:n.REQUIRED}],children:e.jsx(o,{size:"large",type:"email"})}),e.jsx(t.Item,{name:"password",label:"Пароль",rules:[{required:!0,message:n.REQUIRED}],children:e.jsx(o.Password,{size:"large",type:"password"})}),e.jsx(t.Item,{style:{textAlign:"center"},children:e.jsx(g,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:s.isPending,children:"Войти"})})]}),e.jsxs(x,{className:"sign-in-actions",align:"center",justify:"space-between",children:[e.jsx(a,{to:i.RESET_PASSWORD,children:"Забыли пароль ?"}),e.jsx(a,{to:i.SIGN_UP,children:"Регистрация"})]})]})};export{f as SignIn};
