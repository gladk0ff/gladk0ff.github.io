import{l as c,j as e}from"./react-BO9WGmWW.js";import{u as d,L as i}from"./@react-router-TRo3Jq36.js";import{F as t,aw as p,I as n,M as o,B as g,y as x,a6 as a}from"./ant-Cx1_2gGt.js";import{a as j}from"./auth-UzYgO12r.js";import{u as h}from"./index-CRnLvLxR.js";import"./vendor-zvtfhrYI.js";import"./recharts-CyaUY8Du.js";const b=()=>{const{setUserId:m}=h(),l=d(),s=c({mutationFn:j.signIn,onSuccess:r=>{m(r.user.id),l(a.BASE)}}),u=r=>{s.mutate({email:r.email,password:r.password})};return e.jsxs(e.Fragment,{children:[e.jsxs(t,{name:"sign-in",layout:"vertical",style:{width:"100%"},onFinish:u,children:[!!s.error&&e.jsx(p,{message:s.error.message||"",type:"error"}),e.jsx(t.Item,{name:"email",label:"Почта пользователя",rules:[{required:!0,message:n.REQUIRED}],children:e.jsx(o,{size:"large",type:"email"})}),e.jsx(t.Item,{name:"password",label:"Пароль",rules:[{required:!0,message:n.REQUIRED}],children:e.jsx(o.Password,{size:"large",type:"password"})}),e.jsx(t.Item,{style:{textAlign:"center"},children:e.jsx(g,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:s.isPending,children:"Войти"})})]}),e.jsxs(x,{className:"sign-in-actions",align:"center",justify:"space-between",children:[e.jsx(i,{to:a.RESET_PASSWORD,children:"Забыли пароль ?"}),e.jsx(i,{to:a.SIGN_UP,children:"Регистрация"})]})]})};export{b as SignIn};
