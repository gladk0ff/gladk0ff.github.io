import{aE as Z,r as c,aQ as B,aR as e,aS as Se,aT as Ee,aU as T,aV as V,aD as Ce,A as K,aW as Fe,H as D,aX as Te,aY as Re,aZ as Pe,a_ as Le,a$ as Oe,b0 as Ae,b1 as Ne,b2 as Ue,b3 as _e}from"./vendor-BPCiSzTP.js";import{w as E,x as O,Q as U,y as W,F as m,z as de,B as I,I as y,H as h,J as l,R as w,K as F,L as P,M as De,N as Be,O as ue,P as re,U as ie,X as Me,Y as $e,Z as qe,_ as ze,$ as Q,a0 as pe,a1 as me,a2 as ee,a3 as te,a4 as We,a5 as he,a6 as Qe,a7 as xe,a8 as Ge,a9 as Ve,aa as He,ab as Ye,ac as A,ad as ge,ae as fe,af as Ke,ag as Xe,ah as Je,ai as Ze,aj as et,ak as tt,al as st,am as at,an as se,ao as nt,ap as rt,aq as it,ar as ae,as as je,at as ye,au as _,av as ot,aw as lt,ax as ct}from"./ant-Ct-l5edv.js";import{u as M,L as G,a as dt,O as ke,b as ut,r as pt,c as mt,R as ht}from"./@react-router-BT5TI6gJ.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();const xt=t=>Z({queryKey:[U.checkLogin,t],queryFn:async({queryKey:r,signal:s})=>{console.log("signal",s);const{data:a,error:n}=await E.from("users").select().eq("login",r[1]).abortSignal(s);if(n)throw new O({message:n.message,name:"Не удалось проверить логин"});return!!a.length}}),gt=async t=>{const{data:r,error:s}=await E.from("users").update(t).eq("id",t.id).select();if(s)throw new O({message:s.message,name:"Не удалось обновить данные пользователя"});if(r)return r[0]},ft=t=>Z({queryKey:[U.user,t],queryFn:async({queryKey:r,signal:s})=>{const{data:a,error:n}=await E.from("users").select().eq("id",r[1]).abortSignal(s);if(n)throw new O({message:n.message,name:"Не удалось получить данные пользователя"});return a[0]},enabled:!!t}),X={checkLogin:xt,updateUserInfo:gt,getUserById:ft},jt=t=>Z({queryKey:[U.attachments,t],queryFn:async({signal:r,queryKey:s})=>{const{data:a,error:n}=await E.from("attachments").select().eq("id",s[1]).abortSignal(r);if(n)throw new O({name:"Не удалось получить вложения",message:`${n.code}: ${n.message}`});return a[0]},select:r=>({fullPath:r.full_path,id:r.id,path:r.path,publicUrl:r.public_url}),enabled:!!t}),yt=async(t,r)=>{const{error:s}=await E.from("attachments").delete().eq("id",t.id);if(s)throw new O({name:"Не удалось удалить вложения",message:`${s.code}: ${s.message}`});const{error:a}=await E.storage.from(r).remove([t.path]);if(a)throw new O({name:"Не удалось удалить файл из хранилища",message:`${a.name}: ${a.message}`})},kt=async(t,r)=>{const{data:s,error:a}=await E.storage.from(r).upload(t.name,t);if(a)throw new O({name:"Не удалось сохранить вложения",message:`${a.name}: ${a.message}`});const{data:{publicUrl:n}}=E.storage.from(r).getPublicUrl(s.path);console.log("uploadedFile",s);const{error:i}=await E.from("attachments").insert([{id:s.id,path:s.path,full_path:s.fullPath,public_url:n||null}]).select();if(i)throw new O({name:"Не удалось получить вложения",message:`${i.code}: ${i.message}`});return{...s,publicUrl:n}},J={getAttachmentById:jt,deleteAttachment:yt,saveAttachment:kt},oe="sb-bezykkplqcrsoettxmqn-auth-token",ve=c.createContext({user:null,isAuthCheking:!0,isUserLoading:!1,setUserId:()=>{},logOut:()=>{}}),vt=({children:t})=>{const[r,s]=c.useState(null),[a,n]=c.useState(!0),{data:i=null,isFetching:d}=B({...X.getUserById(r)}),{data:u=null}=B({...J.getAttachmentById(i==null?void 0:i.avatar_id)}),p=()=>{localStorage.removeItem(oe),s(null)};c.useEffect(()=>{const k=localStorage.getItem(oe);if(!k){n(!1);return}const{user:b}=JSON.parse(k);b.id&&(s(b.id),n(!1))},[]),c.useEffect(()=>{i&&!a&&n(!1)},[i,a]);const x=c.useMemo(()=>i?{...i,avatar:u||null}:null,[i,u]);return e.jsx(ve.Provider,{value:{user:x,isAuthCheking:a,setUserId:s,isUserLoading:d,logOut:p},children:t})},wt=new Se,It={cssVar:!0,token:{fontSize:16,colorBgLayout:"none",colorLink:"#7CB2B0",colorBorder:"#D2D7E3",colorTextPlaceholder:"var(--gray-5)"},components:{Layout:{siderBg:"#CDE1E1"},Input:{colorBgBase:"none",colorBgContainer:"none",fontSize:16,borderRadius:0},Typography:{titleMarginBottom:"none",titleMarginTop:"none"},Upload:{colorInfoText:"var(--gray-5)"}}},bt="http://localhost:5173/update-password",St=async({email:t,password:r})=>{const{data:s,error:a}=await E.auth.signInWithPassword({email:t,password:r});return W(a),s},Et=async({email:t,password:r})=>{const{data:s,error:a}=await E.auth.signUp({email:t,password:r});if(Ee(a))throw new O({name:"Недопустимый пароль",message:a.message});W(a);const{data:n,error:i}=await E.from("users").upsert({id:s.user.id,login:s.user.email,email:s.user.email});return W(i),n},Ct=async t=>{const{data:r,error:s}=await E.auth.resetPasswordForEmail(t,{redirectTo:bt});return W(s),r},Ft=async t=>{const{data:r,error:s}=await E.auth.updateUser({password:t});return W(s),r},H={signIn:St,signUp:Et,resetPassword:Ct,updatePassword:Ft},N=()=>c.useContext(ve),le=()=>{const{setUserId:t}=N(),r=M(),s=T({mutationFn:H.signIn,onSuccess:n=>{t(n.user.id),r(w.BASE)}}),a=n=>{s.mutate({email:n.email,password:n.password})};return e.jsxs(e.Fragment,{children:[e.jsxs(m,{name:"sign-in",layout:"vertical",style:{width:"100%"},onFinish:a,children:[!!s.error&&e.jsx(de,{message:s.error.message||"",type:"error"}),e.jsx(m.Item,{name:"email",label:"Почта пользователя",rules:[{required:!0,message:I.REQUIRED}],children:e.jsx(y,{size:"large",type:"email"})}),e.jsx(m.Item,{name:"password",label:"Пароль",rules:[{required:!0,message:I.REQUIRED}],children:e.jsx(y.Password,{size:"large",type:"password"})}),e.jsx(m.Item,{style:{textAlign:"center"},children:e.jsx(h,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:s.isPending,children:"Войти"})})]}),e.jsxs(l,{className:"sign-in-actions",align:"center",justify:"space-between",children:[e.jsx(G,{to:w.RESET_PASSWORD,children:"Забыли пароль ?"}),e.jsx(G,{to:w.SIGN_UP,children:"Регистрация"})]})]})},Tt=()=>{const t=M(),r=dt(),s=T({mutationFn:H.signUp,onSuccess:()=>{F.success("Вы успешно зарегестрированы войдите в систему"),t(w.BASE)}});return e.jsxs(m,{layout:"vertical",style:{width:"100%"},onFinish:s.mutate,disabled:s.isPending,children:[!!s.error&&e.jsx(de,{style:{margin:"10px 0"},message:r.message||"",type:"error"}),e.jsx(m.Item,{name:"email",label:"Почта",rules:[{required:!0,message:I.REQUIRED}],children:e.jsx(y,{size:"large",type:"email"})}),e.jsx(m.Item,{name:"password",label:"Пароль",rules:[{required:!0,message:I.REQUIRED}],children:e.jsx(y.Password,{size:"large",type:"password"})}),e.jsx(m.Item,{name:"passwordRepeat",dependencies:["password"],label:"Повторите пароль",rules:[{required:!0,message:I.REQUIRED},({getFieldValue:a})=>({validator(n,i){return!i||a("password")===i?Promise.resolve():Promise.reject(new Error(I.PASSWORD_DUPLICATE))}})],children:e.jsx(y.Password,{size:"large",type:"password"})}),e.jsx(m.Item,{style:{textAlign:"center"},children:e.jsx(h,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:s.isPending,children:"Зарегестрироваться"})}),e.jsx(l,{align:"center",justify:"center",children:e.jsx(G,{to:w.SIGN_IN,children:"К форме аторизации"})})]})},Rt=()=>{const t=T({mutationFn:H.resetPassword,onSuccess:()=>{F.success("Письмо отправлено на почту")}});return console.log("resetPasswordMutation.data",t.data),e.jsxs(e.Fragment,{children:[t.data?e.jsx(P.Title,{level:2,style:{textAlign:"center",marginBottom:"1rem"},children:"Письмо отправлено на email"}):e.jsxs(m,{name:"sign-in",layout:"vertical",style:{width:"100%"},onFinish:({email:r})=>t.mutate(r),children:[e.jsx(m.Item,{name:"email",label:"Почта пользователя",rules:[{required:!0,message:I.REQUIRED}],children:e.jsx(y,{size:"large",type:"email"})}),e.jsx(m.Item,{style:{textAlign:"center"},children:e.jsx(h,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:t.isPending,children:"Сбросить пароль"})})]}),e.jsx(l,{align:"center",justify:"center",children:e.jsx(G,{to:w.SIGN_IN,children:"К форме аторизации"})})]})},Pt=(t,r)=>{const s=new FileReader;s.addEventListener("load",()=>r(s.result)),s.readAsDataURL(t)},we=t=>{const r=t.type==="image/jpeg"||t.type==="image/png";if(!r)return"Загрузить можно только файлы в формате: jpeg, png";const s=t.size/1024/1024<2;return s?r&&s:"Файл должен быть меньше 2MB"},Ie=(t,r)=>{if(t===r)return!0;if(typeof t!="object"&&typeof t!="function"||typeof r!="object"&&typeof r!="function")return!1;if(t===null||r===null)return t===r;const s=Object.keys(t),a=Object.keys(r);if(s.length!==a.length)return!1;for(let n of s)if(!a.includes(n)||!Ie(t[n],r[n]))return!1;return!0},Lt=()=>{const{user:t}=N(),r=V(),[s,a]=c.useState(!1),[n,i]=c.useState(null),[d,u]=c.useState(!1),[p]=m.useForm(),x=c.useRef(Ot),k=T({mutationFn:j=>X.updateUserInfo({...j,id:t.id}),onSuccess:(j,C)=>{r.setQueryData([U.user,t==null?void 0:t.id],{...t,...C})}}),b=T({mutationFn:async j=>J.deleteAttachment(j,"avatar")}),f=T({mutationFn:async j=>J.saveAttachment(j,"avatar")});c.useEffect(()=>{var j;x.current={login:(t==null?void 0:t.login)||"",birthday:Ce(t==null?void 0:t.birthdate),surname:(t==null?void 0:t.surname)||"",name:(t==null?void 0:t.name)||"",patronymic:(t==null?void 0:t.patronymic)||"",avatar:(t==null?void 0:t.avatar)||null},(j=t==null?void 0:t.avatar)!=null&&j.publicUrl&&i(t.avatar.publicUrl),p.setFieldsValue(x.current)},[t,p]);const v=async(j,C)=>{if(C===(t==null?void 0:t.login))return Promise.resolve();try{return await r.fetchQuery(X.checkLogin(C))?Promise.reject(De):Promise.resolve()}catch{return Promise.reject("При проверке логина произошла ошибка")}},L=j=>{u(!Ie(j,x.current))},o=({file:j})=>{j&&(a(!0),p.setFieldValue("avatar",j),Pt(j,C=>{a(!1),i(C)}))},g=()=>{p.setFieldValue("avatar",""),i(null),u(!0)},S=p.getFieldsError().filter(({errors:j})=>j.length).length>0,$=async()=>{const j=t==null?void 0:t.avatar,C=p.getFieldValue("avatar");return j&&(C instanceof File||!C)&&await b.mutateAsync(j),C instanceof File?await f.mutateAsync(C):null};return{isAvatarLoading:s,checkDirty:L,avatarUrl:n,isFormDirty:d,form:p,updateUser:async j=>{const{avatar:C,...Y}=j;let q;return C!==(t==null?void 0:t.avatar)?q=await $():q=(t==null?void 0:t.avatar)||null,k.mutate({...Y,avatar_id:(q==null?void 0:q.id)||null})},handleChangeAvatar:o,deleteAvatar:g,checkLogin:v,updateAvatar:$,hasErrors:S,isFormSubmitting:k.isPending||f.isPending||b.isPending}},Ot={login:"",birthday:null,surname:"",name:"",patronymic:"",avatar:null},{confirm:At}=ee,Nt=({onCancel:t})=>{const{form:r,updateUser:s,checkDirty:a,isAvatarLoading:n,avatarUrl:i,isFormDirty:d,handleChangeAvatar:u,deleteAvatar:p,checkLogin:x,isFormSubmitting:k}=Lt(),b=o=>{s(o).then(()=>{F.success("Данные успешно сохранены"),t()}).catch(()=>{F.error("Ошибка при сохранении данных")})},f=e.jsx(h,{style:{border:0,background:"none"},type:"text",children:e.jsx(l,{vertical:!0,align:"center",justify:"center",children:n?e.jsx(Be,{}):e.jsxs(P.Paragraph,{type:"secondary",style:{marginTop:8},children:[e.jsx(ue,{style:{color:"var(--gray-7)"}})," Загрузить"]})})}),v=()=>{d?At({title:"Закрыть окно ?",content:"Несохраненные изменения будут утеряны.",okText:"Да",cancelText:"Нет",onOk:t}):t()},L=o=>{const g=we(o),S=typeof g!="string";return S||F.error(g),S};return e.jsxs(m,{onFinish:b,labelAlign:"left",layout:"vertical",labelWrap:!0,disabled:k,form:r,onValuesChange:(o,g)=>a(g),size:"large",style:{position:"relative",maxWidth:"600px"},children:[e.jsxs(l,{align:"center",children:[e.jsxs(l,{vertical:!0,flex:1,children:[e.jsx(m.Item,{label:"Логин",name:"login",wrapperCol:{span:22},validateTrigger:["onBlur","onChange"],validateFirst:!0,rules:[{required:!0,message:I.REQUIRED},{min:re,message:I.MIN_LENGTH(re)},{max:ie,message:I.MAX_LENGTH(ie)},{validateTrigger:["onBlur"],validator:x}],children:e.jsx(y,{placeholder:"LUKA"})}),e.jsx(m.Item,{label:"Дата рождения",name:"birthday",wrapperCol:{span:22},rules:[{required:!0,message:I.REQUIRED,type:"date"}],children:e.jsx(Me,{style:{width:"100%"},placeholder:"06.06.0006",format:$e,maxDate:qe,minDate:ze})})]}),e.jsxs(m.Item,{name:"avatar",valuePropName:"fileList[0]",style:{position:"relative"},children:[e.jsx(Q,{className:"person-form-upload",name:"avatar",listType:"picture-card",showUploadList:!1,beforeUpload:L,customRequest:u,disabled:!!i,children:i?e.jsx("div",{style:{margin:"4px",borderRadius:"4px",overflow:"hidden"},children:e.jsx(pe,{height:140,style:{objectFit:"cover"},src:i,preview:{toolbarRender:()=>null}})}):f}),i&&e.jsx(h,{style:{position:"absolute",bottom:-32,right:0},type:"text",size:"small",onClick:p,icon:e.jsx(me,{})})]})]}),e.jsx(m.Item,{label:"Фамилия",name:"surname",rules:[{pattern:/^[\s\u0400-\u04FF]+$/,message:I.CYRILLIC}],children:e.jsx(y,{placeholder:"Лукавый"})}),e.jsx(m.Item,{label:"Имя",name:"name",rules:[{pattern:/^[\s\u0400-\u04FF]+$/,message:I.CYRILLIC}],children:e.jsx(y,{placeholder:"Лука"})}),e.jsx(m.Item,{label:"Отчество",name:"patronymic",rules:[{pattern:/^[\s\u0400-\u04FF]+$/,message:I.CYRILLIC}],children:e.jsx(y,{placeholder:"Лукич"})}),e.jsxs(l,{gap:16,justify:"end",children:[e.jsx(h,{type:"primary",htmlType:"submit",disabled:!d,children:"Сохранить"}),e.jsx(h,{type:"default",onClick:v,children:"Отмена"})]})]})};function Ut({hideContainer:t}){var i;const[r,s]=c.useState(!1),{user:a}=N(),n=()=>{t(),s(!0)};return e.jsxs(te.Ribbon,{text:e.jsx(P,{children:"Новичок"}),children:[e.jsxs(l,{vertical:!0,gap:16,className:"acc-container",children:[e.jsxs(l,{gap:16,children:[e.jsx(We,{shape:"square",size:64,gap:8,src:(i=a==null?void 0:a.avatar)==null?void 0:i.publicUrl,icon:e.jsx(he,{})}),e.jsxs(l,{vertical:!0,gap:16,children:[e.jsx(P,{children:a==null?void 0:a.login}),e.jsx(P,{children:a==null?void 0:a.email}),e.jsx(P,{children:[a==null?void 0:a.surname,a==null?void 0:a.name].filter(Boolean).join(" ")})]})]}),e.jsx(h,{className:"acc-edit-button",icon:e.jsx(Qe,{}),size:"large",type:"text",onClick:n})]}),e.jsx(ee,{open:r,closable:!1,footer:null,centered:!0,destroyOnClose:!0,title:"Реадктирование данных профиля",children:e.jsx(Nt,{onCancel:()=>{s(!1)}})})]})}const _t={name:"",email:"",messubject:"",description:""},Dt=({close:t,isOpen:r})=>{const[s]=m.useForm(),[a,n]=K.useState([]),[i,d]=K.useState(""),[u,p]=K.useState(!1),x=T({mutationFn:Bt,onSuccess:()=>{F.success("Обращение успешно отправлено"),s.resetFields(),n([]),t()},onError:()=>{F.error("Не удалось отправить обращение")}}),k=o=>{const g=we(o);return console.log("result",g),typeof g=="string"?(F.error(g+":"+o.name),Q.LIST_IGNORE):!0},b=({file:o})=>{console.log("handleUploadChange",a),n([...a,o])},f=async o=>{console.log("handlePreview",o),!o.url&&!o.preview&&o.originFileObj&&(o.preview=URL.createObjectURL(o.originFileObj)),d(o.url||o.preview||URL.createObjectURL(o)),p(!0)},v=o=>{const g={...o,attachments:a.map(S=>S.originFileObj).filter(Boolean)};x.mutate(g)},L=()=>{d(""),n([]),t()};return e.jsx(ee,{title:"Форма обратной связи",open:r,onCancel:L,destroyOnClose:!0,footer:null,className:"feed-back-modal",children:e.jsxs(m,{name:"feedback_form",layout:"vertical",onFinish:v,form:s,initialValues:_t,size:"large",children:[e.jsxs(l,{justify:"space-between",gap:16,children:[e.jsxs(l,{vertical:!0,flex:1,children:[e.jsx(m.Item,{label:"Имя",name:"name",rules:[{required:!0}],children:e.jsx(y,{})}),e.jsx(m.Item,{label:"Email",name:"email",validateTrigger:["onBlur"],rules:[{required:!0,message:""},{required:!0,type:"email",message:"Введен некоретный email"}],children:e.jsx(y,{})}),e.jsx(m.Item,{label:"Тема",name:"subject",rules:[{required:!0,message:"Введите тему"},{min:6,message:"Тема должна быть не менее 6 символов"}],children:e.jsx(y,{})})]}),e.jsx(l,{flex:1,children:e.jsx(m.Item,{style:{width:"100%"},label:"Описание",name:"description",rules:[{required:!0,message:"Введите описание"},{min:10,message:"Описание должно быть не менее 10 символов"}],children:e.jsx("div",{style:{position:"relative"},children:e.jsx(y.TextArea,{rows:7,style:{resize:"none",paddingBottom:40}})})})})]}),a.length>0&&e.jsx(Q,{fileList:a,className:"feedback-attachments",onRemove:o=>{const g=a.indexOf(o),S=a.slice();S.splice(g,1),n(S)},onPreview:f,listType:"text"}),i&&e.jsx(pe,{style:{display:"none",height:0},src:i,preview:{visible:u,onVisibleChange:o=>p(o),destroyOnClose:!0,toolbarRender:()=>null}}),e.jsxs(l,{children:[e.jsx(Q,{beforeUpload:k,fileList:a,multiple:!0,maxCount:5,accept:".jpeg,.jpg,.png",showUploadList:!1,customRequest:b,children:e.jsx(h,{icon:e.jsx(ue,{}),type:"text"})}),e.jsxs(l,{style:{marginLeft:"auto"},gap:8,children:[e.jsx(h,{onClick:L,children:"Отмена"}),e.jsx(h,{type:"primary",htmlType:"submit",loading:x.isPending,children:"Отправить"})]})]})]})})},Bt=async t=>(console.log("sendFeedback",t),await new Promise(r=>setTimeout(r,1e3)),Math.random()>.3?Promise.resolve():Promise.reject(new Error("Ошибка сервера"))),Mt=()=>{const{logOut:t}=N(),[r,s]=c.useState(!1),[a,n]=c.useState(!1),i=M();return e.jsxs(l,{vertical:!0,justify:"space-between",className:"menu-wrapper",children:[e.jsxs("div",{className:"user-button-wrapper",children:[e.jsx(h,{type:"text",icon:e.jsx(he,{size:24}),onClick:()=>s(!0)}),e.jsx(xe,{placement:"bottomLeft",content:e.jsx(Ut,{hideContainer:()=>s(!1)}),overlayInnerStyle:{padding:0},arrow:!1,open:r,trigger:"click",onOpenChange:d=>s(d),children:e.jsx("div",{className:"menu-point-popover"})})]}),e.jsxs(l,{vertical:!0,justify:"space-between",style:{height:"100%",marginTop:"0.4rem"},children:[e.jsxs(l,{vertical:!0,gap:"0.5rem",children:[e.jsx(h,{type:"text",icon:e.jsx(Ge,{size:24}),title:"Статистика",onClick:()=>{i(w.STATISTIC)}}),e.jsx(h,{icon:e.jsx(Ve,{size:24}),onClick:()=>i(w.INFO),type:"text",title:"О приложении"})]}),e.jsxs(l,{vertical:!0,children:[e.jsx(h,{icon:e.jsx(He,{size:24}),onClick:()=>n(!0),type:"text"}),e.jsx(h,{type:"text",icon:e.jsx(Ye,{size:24}),title:"Выход",onClick:t})]})]}),e.jsx(Dt,{close:()=>n(!1),isOpen:a})]})},$t=()=>e.jsxs(l,{gap:"0",align:"center",justify:"space-between",style:{width:"100%",height:"100%"},children:[e.jsx(Mt,{}),e.jsx(ke,{})]});var R=(t=>(t.active="active",t.completed="completed",t.new="new",t))(R||{});const qt=()=>{const{user:t}=N(),[r,s]=c.useState(),a=c.useMemo(()=>(t==null?void 0:t.id)||"",[t==null?void 0:t.id]),{data:n,isLoading:i}=B({...A.getTaskTypes(),refetchOnWindowFocus:!1,refetchOnMount:!1}),{data:d=[],isLoading:u}=B({...A.getUserTasks(a),refetchIntervalInBackground:!0,refetchInterval:5*ge,refetchOnWindowFocus:!1,enabled:!!a});return c.useEffect(()=>{if(!(n!=null&&n.length))return;const p={};n.forEach(x=>{p[x.id]||(p[x.id]={data:[],stats:{all:0,inWork:0},label:x.title})}),d.forEach(x=>{p[x.type_id].data.push(x),p[x.type_id].stats.all+=1,x.status_id===R.active&&(p[x.type_id].stats.inWork+=1)}),s(p)},[d,n]),{taskTypesIsLoading:i,taskTypes:n,userTasks:d,userTasksIsLoading:u,taskGroups:r,userId:a}},zt=(t,r)=>{const[s,a]=c.useState(t.text),n=Fe(s,300);return c.useEffect(()=>{n!==t.text&&r({...t,text:n})},[n,r,t]),{value:s,setValue:a}},Wt=({task:t})=>{const{done:r,priority:s=0}=t,a=V(),{user:n}=N(),i=T({mutationFn:A.deleteTask,onSuccess:o=>{a.setQueryData([U.tasks,n.id],g=>g==null?void 0:g.filter(S=>S.id!==o))}}),d=T({mutationFn:A.updateTask,onSuccess:o=>{a.setQueryData([U.tasks,n.id],g=>{const S=[...g??[]],$=S.findIndex(ne=>ne.id===o.id);return $!==-1&&(S[$]={...S[$],...o}),[...S]})}}),u=()=>{i.mutate(t.id,{onError:o=>{F.error(o.message)}})},p=o=>{d.mutate(o)},x=()=>{p({...t,done:!t.done})},k=()=>{p({...t,status_id:t.status_id===R.active?R.new:R.active,done:!1})},{value:b,setValue:f}=zt(t,p),v=i.isPending||d.isPending,L=()=>{switch(t.status_id){case R.active:return e.jsx(y,{className:D("task-input",!!s&&`task-input--prioriry-${s}`,{"task-input--done":!!r,"task-input--has-prioriry ":!!s}),value:b,disabled:v,onChange:o=>{f(o.target.value)},prefix:e.jsx(h,{icon:e.jsx(Je,{className:D("task-icon-check-online",r&&"task-icon-check-online--checked")}),type:"text",onClick:x}),suffix:e.jsxs(l,{className:"task-input-actions",justify:"end",children:[e.jsx(h,{icon:e.jsx(Ze,{}),type:"text"}),e.jsx(h,{icon:e.jsx(et,{}),type:"text"}),e.jsx(h,{icon:e.jsx(fe,{}),type:"text"}),e.jsx(h,{icon:e.jsx(tt,{}),onClick:k,type:"text"}),e.jsx(h,{disabled:i.isPending,className:"action-delete",icon:e.jsx(me,{}),onClick:u,type:"text"})]})});case R.new:return e.jsx(y,{className:"task-input",value:b,onChange:o=>{f(o.target.value)},prefix:e.jsx(h,{icon:e.jsx(Ke,{}),onClick:k,type:"text"}),suffix:e.jsx(h,{icon:e.jsx(Xe,{}),onClick:u,type:"text"})})}};return e.jsx(l,{justify:"space-between",align:"center",gap:16,children:L()})},Qt=({text:t,author_id:r,type_id:s})=>{const a=V(),n=T({mutationFn:A.createTask}),i=()=>{n.mutate({authorId:r,task:t,taskStatus:R.new,typeId:s},{onSuccess:async()=>{await a.invalidateQueries({queryKey:[U.tasks,r]}),F.success("Задача добавлена в 'Запланированные' ")}})};return e.jsx(l,{justify:"space-between",align:"center",gap:16,className:"task-completed-row",children:e.jsx(y,{className:"task-input",value:t,readOnly:!0,suffix:e.jsx(h,{onClick:i,icon:e.jsx(fe,{}),shape:"circle",type:"text",loading:n.isPending})})})},ce=({title:t,total:r=0,complite:s=0,tasks:a,taskStatus:n,typeId:i})=>{const[d,u]=c.useState(!1),p=V(),[x]=m.useForm(),{user:k}=N(),{mutate:b,isPending:f}=T({mutationFn:async o=>await A.createTask(o),onSuccess(o){p.setQueryData([U.tasks,k.id],g=>[...g,o])}}),v=n===R.active,L=({task:o})=>{b({task:o,taskStatus:n,typeId:i,authorId:k.id},{onError:g=>{F.error(g.name)},onSuccess:async()=>{x.resetFields()}})};return e.jsxs(l,{vertical:!0,className:D({"task-field-wrapper":!0,"task-field-wrapper--active":v}),children:[e.jsx(te,{count:s?`${s}/${r}`:r,offset:[20,12],className:D({"task-field-badge":!0,"task-field-badge--active":v}),children:e.jsxs(P.Text,{type:"secondary",children:[t,":"]})}),e.jsx(m,{onFinish:L,form:x,className:"task-field-form",children:e.jsx(m.Item,{noStyle:!0,name:"task",children:e.jsx(l,{onClick:()=>u(!0),onBlur:()=>u(!1),children:e.jsx(y,{disabled:f,className:D("task-input","task-input-create",v&&"task-input-create--active"),placeholder:d?"":"Создать задачу",prefix:d?e.jsx(st,{style:{fontSize:16}}):e.jsx(at,{})})})})}),e.jsx("div",{className:"task-field-content",children:a.map(o=>e.jsx(Wt,{task:o},o.id))})]})},Gt=({active:t=!1,tasks:r=[],type:s,userId:a})=>{const[n,i]=c.useState(!1),{data:d=[],isFetching:u}=B({...A.getUserCompletedTasks(a,s),enabled:n});if(c.useEffect(()=>{!t&&n&&i(!1)},[t,n]),!t||!s)return;const p=se[s],{activeTasks:x=[],newTasks:k=[]}=r.reduce((f,v)=>(v.status_id==="new"&&f.newTasks.push(v),v.status_id==="active"&&f.activeTasks.push(v),f),{newTasks:[],activeTasks:[]}),b=x.filter(({done:f})=>f).length;return e.jsxs(l,{className:"task-type-panel",vertical:!0,align:"start",gap:8,children:[e.jsxs(l,{className:"task-type-panel__content",vertical:!0,flex:1,children:[e.jsx(ce,{title:"В работе",complite:b,total:x.length,taskStatus:R.active,tasks:x,typeId:s}),e.jsx(ce,{title:"Запланированы",total:k.length,taskStatus:R.new,tasks:k,typeId:s})]}),e.jsxs(l,{className:"task-type-panel__float-buttons",vertical:!0,gap:4,children:[p&&e.jsx(xe,{content:e.jsx("div",{style:{width:500},children:p.info}),title:"Разяснение в помощь о текуших задач",children:e.jsx(h,{icon:e.jsx(nt,{size:24}),size:"small",type:"text",shape:"circle"})}),e.jsx(h,{icon:e.jsx(rt,{}),title:"Показать выполненные",size:"small",type:"text",shape:"circle",onClick:f=>{f.stopPropagation(),i(!0)}})]}),e.jsx(it,{title:e.jsxs(e.Fragment,{children:[e.jsx(P.Text,{type:"secondary",children:" Звершенные задачи : "}),e.jsx(te,{count:d.length,color:"cyan"})]}),placement:"right",onClose:f=>{f.stopPropagation(),i(!1)},open:n,getContainer:!1,styles:{mask:{background:"none"},header:{padding:"0.5rem 1rem"},body:{padding:"0.5rem 1rem"}},children:e.jsx(l,{vertical:!0,gap:16,children:e.jsx(ae,{spinning:u,children:[...d,...d].map((f,v)=>c.createElement(Qt,{...f,key:v}))})})})]})},Vt=({stats:t,onClick:r,active:s=!1,id:a,title:n})=>{const i=se[a].icon||null;return e.jsxs(l,{className:D({"task-type-container":!0,"task-type-container--active":s}),vertical:!0,justify:"space-between",onClick:d=>{d.stopPropagation(),r==null||r(a)},children:[e.jsx(P.Title,{level:3,children:n}),e.jsxs(l,{justify:"space-between",children:[e.jsxs(l,{vertical:!0,children:[e.jsxs("span",{children:["Текущие: ",t.inWork]}),e.jsxs("span",{children:["Всего: ",t.all]})]}),i&&e.jsx(i,{style:{fontSize:32}})]})]})},{Content:Ht,Sider:Yt}=je,Kt=()=>{const[t,r]=c.useState(null),s=M(),{taskGroups:a,userTasksIsLoading:n,userId:i}=qt(),d=u=>{r(t===u?null:u)};return e.jsxs(je,{className:"tasks-page-layout",children:[e.jsx(Ht,{className:"task-page-content",onClick:()=>{r(null)},children:e.jsx(ae,{spinning:n,children:e.jsx(l,{className:"task-page-container",children:a&&Object.keys(a).map(u=>e.jsx(Vt,{active:t===u,title:a[u].label,id:u,onClick:d,stats:a[u].stats},u))})})}),e.jsx(Yt,{className:D("tasks-page-sider ",!t&&"tasks-page-sider--collapsed"),trigger:null,collapsed:!t,collapsible:!0,defaultCollapsed:!0,collapsedWidth:0,width:"60%",children:e.jsx(Gt,{tasks:t?a[t].data:[],active:!!t,type:t,closeForm:()=>s(w.BASE),userId:i},t)})]})},Xt=t=>c.createElement("svg",{width:"143.49536mm",height:"122.80552mm",viewBox:"0 0 143.49536 122.80552",id:"svg5",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg",...t},c.createElement("defs",{id:"defs2"}),c.createElement("g",{id:"layer1",transform:"translate(-45.930734,-34.912509)"},c.createElement("g",{id:"g2544",transform:"translate(-0.87950327)"},c.createElement("text",{xmlSpace:"preserve",style:{fontSize:"61.9697px",lineHeight:.4,fontFamily:"Bahnschrift",InkscapeFontSpecification:"Bahnschrift",fill:"#4c47f7",stroke:"#000000",strokeWidth:0,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",strokeDashoffset:1.05827,paintOrder:"fill markers stroke"},x:62.63818,y:118.4164,id:"text236"},c.createElement("tspan",{id:"tspan234",style:{fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",fontStretch:"normal",fontFamily:"'Lucida Console'",InkscapeFontSpecification:"'Lucida Console'",fill:"#000000",fillOpacity:1,strokeWidth:0,strokeDasharray:"none"},x:62.63818,y:118.4164},c.createElement("tspan",{style:{fill:"#8c8c8c",fillOpacity:1},id:"tspan3600"},"4"),"0")),c.createElement("text",{xmlSpace:"preserve",style:{fontSize:"61.9697px",lineHeight:.4,fontFamily:"Bahnschrift",InkscapeFontSpecification:"Bahnschrift",fill:"#4c47f7",stroke:"#000000",strokeWidth:0,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",strokeDashoffset:1.05827,paintOrder:"fill markers stroke"},x:-174.00565,y:118.4164,id:"text236-6",transform:"scale(-1,1)"},c.createElement("tspan",{id:"tspan234-5",style:{fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",fontStretch:"normal",fontFamily:"'Lucida Console'",InkscapeFontSpecification:"'Lucida Console'",fill:"#8c8c8c",fillOpacity:1,strokeWidth:0,strokeDasharray:"none"},x:-174.00565,y:118.4164},"4"))),c.createElement("text",{xmlSpace:"preserve",style:{fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",fontStretch:"normal",fontSize:"9.87778px",lineHeight:.4,fontFamily:"'Lucida Console'",InkscapeFontSpecification:"'Lucida Console'",letterSpacing:0,wordSpacing:0,fill:"#000000",fillOpacity:1,stroke:"none",strokeWidth:.4,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",strokeDashoffset:1.05827,paintOrder:"fill markers stroke"},id:"text2152",transform:"rotate(-1.438715,-401.31432,179.37148)"},c.createElement("textPath",{xlinkHref:"#path2399",id:"textPath2502",style:{fontSize:"9.87778px"}},c.createElement("tspan",{id:"tspan2150",style:{fontSize:"9.87778px",strokeWidth:.4},dx:0,dy:0,rotate:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0"},"страница не найдена"))),c.createElement("path",{style:{fill:"none",fillOpacity:1,stroke:"#000000",strokeWidth:0,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",strokeDashoffset:1.05827,strokeOpacity:1,paintOrder:"fill markers stroke"},d:"m 65.040689,139.41204 c 38.596841,20.35488 72.893801,19.78702 104.803441,0 v 0.17068",id:"path2399"}),c.createElement("ellipse",{style:{fill:"none",fillOpacity:1,stroke:"#8c8c8c",strokeWidth:.924746,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",strokeDashoffset:1.05827,strokeOpacity:1,paintOrder:"fill markers stroke"},id:"path2548",cx:117.67841,cy:96.315277,rx:71.285309,ry:60.940395}))),Jt=()=>{const t=M();return e.jsxs(l,{align:"center",justify:"center",style:{position:"relative",width:"100%",height:"100%"},children:[e.jsx(h,{type:"text",icon:e.jsx(ye,{}),style:{position:"absolute",left:"0.2rem",top:"0.2rem"},title:"На главную",onClick:()=>{t(w.BASE)}}),e.jsx(Xt,{})]})},Zt=()=>e.jsx(l,{className:"auth-layout-container",vertical:!0,gap:"middle",align:"center",justify:"center",children:e.jsxs(l,{className:"auth-layout-content",vertical:!0,align:"center",justify:"center",children:[e.jsx("h1",{children:"7S"}),e.jsx(ke,{})]})}),es=({data:t})=>{const r=({payload:{value:s},textAnchor:a,x:n,y:i})=>(console.log(a),e.jsx("g",{transform:`translate(${n},${i})`,textAnchor:a,children:e.jsx("text",{x:0,y:0,dy:4,textAnchor:a,fontSize:24,fill:"var(--gray-9)",children:se[s].title})}));return e.jsx(Te,{width:"100%",height:"100%",children:e.jsxs(Re,{cx:"50%",cy:"50%",outerRadius:"80%",data:t,children:[e.jsx(Pe,{}),e.jsx(Le,{dataKey:"type",tick:r}),e.jsx(Oe,{stroke:"var(--gray-7)",angle:65}),e.jsx(Ae,{name:"Mike",dataKey:"value",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})},ts=t=>{const{data:r=[],isLoading:s}=B({...A.getTaskTypes(),refetchOnWindowFocus:!1,refetchOnMount:!1}),{data:a=[],isLoading:n}=B({...A.getUserCompletedTasks(t),refetchIntervalInBackground:!0,refetchInterval:5*ge,refetchOnWindowFocus:!1,enabled:!!t}),i=c.useMemo(()=>{const u={};return r.length&&r.forEach(p=>{u[p.id]||(u[p.id]=0)}),a.forEach(p=>{++u[p.type_id]}),u},[a,r]),d=Math.max(...Object.values(i))||7;return{taskTypes:r,userTasks:a,taskTypesIsLoading:s,userTasksIsLoading:n,taskGroupStats:i,maxPower:d}},{Title:ss}=P,be=()=>{const t=M(),s=ut().reduce((a,n,i)=>{var d,u;return(d=n.handle)!=null&&d.title&&a.push(e.jsx(ss,{level:4,children:(u=n.handle)==null?void 0:u.title},i)),a},[]);return e.jsxs(l,{gap:8,align:"center",style:{borderBottom:"1px solid var(--gray-5)",paddingBottom:"0.2rem",minHeight:"fit-content"},children:[e.jsx(h,{type:"text",icon:e.jsx(ye,{}),onClick:()=>{t(w.BASE)}}),s]})},as=()=>{const{user:t}=N(),{taskGroupStats:r,maxPower:s}=ts(t.id),a=Object.keys(r).length?Object.entries(r).map(([n,i])=>({type:n,value:i,fullMark:s})):[];return e.jsxs(l,{vertical:!0,flex:1,style:{height:"100%",width:"100%",padding:"0.2rem"},children:[e.jsx(be,{}),e.jsx(es,{data:a})]})},ns=()=>{const t=M(),r=T({mutationFn:s=>H.updatePassword(s),onSuccess:()=>{F.info("Пароль успешно обновлен"),t(w.SIGN_IN)},onError:s=>{F.error(s.message||"Произошла ошибка при обновлении пароля. Попробуйте позже или обратитесь к администратору")}});return e.jsxs(m,{name:"sign-in",layout:"vertical",style:{width:"100%"},onFinish:({password:s})=>r.mutate(s),children:[e.jsx(m.Item,{name:"password",label:"Новый пароль",rules:[{required:!0,message:I.REQUIRED}],children:e.jsx(y.Password,{size:"large",type:"password"})}),e.jsx(m.Item,{name:"passwordRepeat",dependencies:["password"],label:"Повторите пароль",rules:[{required:!0,message:I.REQUIRED},({getFieldValue:s})=>({validator(a,n){return!n||s("password")===n?Promise.resolve():Promise.reject(new Error(I.PASSWORD_DUPLICATE))}})],children:e.jsx(y.Password,{size:"large",type:"password"})}),e.jsx(m.Item,{style:{textAlign:"center"},children:e.jsx(h,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:r.isPending,children:"Обновить пароль"})})]})},rs=()=>e.jsxs("p",{children:["Привет! ",e.jsx("br",{}),"Данное приложение создано, как плод работы моих мыслей по поводу нашего бренного прибывания! ",e.jsx("br",{}),"- Кто я? Чего делаю и зачем ? В чем смысл?",e.jsx("br",{}),"- Насколько я близок с Богом?",e.jsx("br",{}),"- Что нужно делать? Как правильно двигаться? ",e.jsx("br",{}),"- Что я хочу и куда стремлюсь? ",e.jsx("br",{}),"- Что я делаю для развития? Доволен ли я результатом своих действий ?",e.jsx("br",{}),"- Что является движущий силой для меня?",e.jsx("br",{}),e.jsx("br",{}),"Если мысли эти Тебе чужды то возможно это приложение, которое создано впервую очередь как помошник мне в собственной жизни - не подойдет Тебе, в этом нет ничего страшного - значит у Тебя свой путь - ищи его ! и Удачи Тебе! Если в чем-то вопросы совпадают или Ты понимаешь ход моих мыслей, то читай далее... Аксимома - Принял тот факт, что ответом на все вопросы у меня нет, сей час точно, а может и не будет никогда...",e.jsx("br",{}),"Факт 1 - жизнь идет несмотря на то , нашел ли я ответы или нет и с этим надо что-то делать",e.jsx("br",{}),"Факт 2 - мне почему-то ничего не хочется, может потому что очень долго был зависимым или в базовой комплектации со мной что-то не так - суть имеем что имеем",e.jsx("br",{}),"Вывод - выделить оснонвые группы дел (как мне кажется) в течении жизни, которые спосоствуют гармоничному развитию личности (опять же по-моему мнению) чтобы двигаться по ним пока идет поиск ответов на вопросы, что ранее перечислил...",e.jsx("br",{}),"Итог: Созданы 7+1 направление (+1 потому то одну категорию - из опыта, надо включить позже, когда освоишься с системой и она войдет в Твою жизнь) которые надо сделать привычками(привычками потому что Факт2 - ничего не хочется=) ), это разовьет дисциплину, в дисциплина это всего хорошо. это всегда Сила Воли",e.jsx("br",{}),"Категории, что я выделил: Здоровье, Духовное-нравственное развитие, Взаимодействие с социумом, Развитие интеллеката, Бытовые дела, Развитие проффесиональное, Отдых (порядок - просто перечисление, не содержит приоретиацию)"]}),is=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Ежедневная забота о теле – основа всего."}),e.jsx("p",{children:"Утренняя зарядка, прогулка, питьевой режим, здоровый сон и питание дают энергию, укрепляют иммунитет и повышают стрессоустойчивость, позволяя эффективно справляться с любыми задачами."}),e.jsx("p",{children:"Например для меня, это стакан воды в день, утренняя зарядка с обливаниями, три раза в неделю упражнения\\бег, упражнения для глаз."})]}),os=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Социальные коммуникации."}),e.jsx("h3",{children:"Общение – фундамент эмоционального благополучия."}),e.jsx("p",{children:"Короткий разговор с близким, обед с коллегой или вежливый диалог с соседом поддерживают связи, дарят чувство принадлежности, помогают решать вопросы и снимают напряжение, делая жизнь насыщеннее.."}),e.jsx("p",{children:"Например для меня, это провести время с Семьей или позвонить Отцу, Брату, навестить Маму на работе, позвонить с другом."})]}),ls=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:" Духовно-нравственная воспитание"}),e.jsxs("p",{children:["Сюда я вынес все то с чем мы сталиваемся в поисках ответов на след вопросы:",e.jsx("br",{}),"Кто я? Есть ли Бог? Быть или не быть? Что для меня важно и во что я верю и т.д.",e.jsx("br",{}),"Слово это все то, что помогает Вам познать себя, мир вокруг Вас от бесконечно малого во внутрь, до бесконечно большого во вне"]}),e.jsx("p",{children:"Работа над этим необходимо, как мне кажется, чтобы обрести некий фундамент осознанности в поступках и убеждений"}),e.jsxs("p",{children:["Не буду углублять в какую-то философию или религизность - это Ваше личное дело, Ваш личный путь...",e.jsx("br",{}),"Как пример: лично для меня сюда вошли утренние и вечерние молитвы, работа по 12 шаговой программе, дыхательные упражнения"]})]}),cs=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Домашние дела."}),e.jsx("h3",{children:"Порядок вокруг создает порядок внутри."}),e.jsx("p",{children:"Быстрая уборка, мытье посуды, приготовление еды или раскладывание вещей по местам поддерживают комфортную среду, экономят время в будущем, снижают хаос и стресс, освобождая голову для важного."}),e.jsx("p",{children:"Например для меня, это все домашние дела которые могут возникнуть от поменять лампочки и наточить ножи до сделать навес над верандой, распечтать документы, оплатить домен, словом обычные бытовые дела которые должны быть сделаны."})]}),ds=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Личностное-Профессиональное развитие"}),e.jsx("h3",{children:"Постоянное движение вперед – залог роста"}),e.jsx("p",{children:"Чтение профессиональной статьи, изучение нового навыка, планирование карьеры или работа над личными качествами (например, тайм-менеджмент) повышают компетентность, уверенность, открывают новые возможности и предотвращают застой."}),e.jsx("p",{children:"Например для меня, это чтение статьи по профессиональной сфере, создание этого и других приложений, подготовка докладов"})]}),us=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Интеллектуальные упражнения"}),e.jsx("h3",{children:"Тренировка для ума сохраняет его остроту"}),e.jsx("p",{children:"Разгадывание кроссворда, изучение иностранных слов, анализ прочитанного, решение логических задач или игра в шахматы стимулируют мозг, улучшают память, концентрацию и гибкость мышления, помогая находить нестандартные решения."}),e.jsx("p",{children:"Например для меня, это разгадывание судоку, филвордов, игры в го, решение задач на алгоритмы"})]}),ps=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Время для себя"}),e.jsx("h3",{children:"Перезагрузка необходима для продуктивности."}),e.jsx("p",{children:". Сознательное безделье, любимое хобби, медитация, теплая ванна или просто тишина позволяют телу и психике восстановиться, предотвращают выгорание, восполняют ресурсы и дарят радость, делая остальное время более качественным."}),e.jsx("p",{children:"Например для меня, это просмотр мультиков, сериалов порой рисование - тут если честно мне трудно но в пути"})]}),ms=()=>{const[t,r]=c.useState(null),s=n=>()=>{r(i=>i&&i.id===n.id?null:n)},a=t!=null&&t.info?hs[t.id]:rs;return e.jsxs(l,{vertical:!0,className:"info-page-wrapper",children:[e.jsx(be,{}),e.jsxs(l,{className:"info-page-content-container",children:[e.jsx(l,{gap:8,className:"info-page-buttons",vertical:!0,children:ot.map(n=>{const i=n.icon;return i?e.jsx(h,{type:"text",className:(t==null?void 0:t.id)===n.id?"info-page-button-active":"",icon:e.jsx(i,{}),title:n.title,onClick:s(n)},n.id):null})}),e.jsx(l,{className:"info-page-content-wrapper",justify:"center",children:e.jsxs(l,{className:"info-page-content",vertical:!0,gap:8,children:[e.jsx(P.Title,{level:1,children:(t==null?void 0:t.title)||"Зачем приложение нужно"}),a&&e.jsx(a,{})]})})]})]})},hs={[_.soul]:ls,[_.growth]:ds,[_.health]:is,[_.life]:cs,[_.mind]:us,[_.rest]:ps,[_.social]:os},xs=[{Component:Zt,children:[{index:!0,Component:le},{path:w.SIGN_IN,Component:le},{path:w.SIGN_UP,Component:Tt},{path:w.RESET_PASSWORD,Component:Rt},{path:w.UPDATE_PASSWORD,Component:ns},{path:"*",loader:()=>pt("/")}]}],gs=[{Component:$t,children:[{index:!0,Component:Kt},{path:w.STATISTIC,Component:as,handle:{title:"Статистика"}},{path:w.INFO,Component:ms,handle:{title:"О Приложении"}},{path:"*",Component:Jt}]}],fs=()=>{const{isAuthCheking:t,user:r,isUserLoading:s}=N();if(t||s)return e.jsx(ae,{fullscreen:!0});const a=mt(r!=null&&r.id?gs:xs);return e.jsx(ht,{router:a})};let z=document.getElementById("root");z||(z=document.createElement("div"),z.id="root",document.body.appendChild(z));Ne(z).render(e.jsx(c.StrictMode,{children:e.jsxs(Ue,{client:wt,children:[e.jsx(lt,{theme:It,locale:ct,children:e.jsx(vt,{children:e.jsx(fs,{})})}),e.jsx(_e,{initialIsOpen:!1})]})}));
